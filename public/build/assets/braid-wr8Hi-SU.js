var qc=Object.defineProperty;var Vc=(t,e,n)=>e in t?qc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var y=(t,e,n)=>Vc(t,typeof e!="symbol"?e+"":e,n);function ia(t,e){return function(){return t.apply(e,arguments)}}const{toString:Kc}=Object.prototype,{getPrototypeOf:Hi}=Object,Sr=(t=>e=>{const n=Kc.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ee=t=>(t=t.toLowerCase(),e=>Sr(e)===t),Cr=t=>e=>typeof e===t,{isArray:Ut}=Array,hn=Cr("undefined");function Yc(t){return t!==null&&!hn(t)&&t.constructor!==null&&!hn(t.constructor)&&de(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oa=Ee("ArrayBuffer");function Jc(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oa(t.buffer),e}const Xc=Cr("string"),de=Cr("function"),sa=Cr("number"),xr=t=>t!==null&&typeof t=="object",Qc=t=>t===!0||t===!1,er=t=>{if(Sr(t)!=="object")return!1;const e=Hi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zc=Ee("Date"),eu=Ee("File"),tu=Ee("Blob"),nu=Ee("FileList"),ru=t=>xr(t)&&de(t.pipe),iu=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||de(t.append)&&((e=Sr(t))==="formdata"||e==="object"&&de(t.toString)&&t.toString()==="[object FormData]"))},ou=Ee("URLSearchParams"),[su,au,lu,cu]=["ReadableStream","Request","Response","Headers"].map(Ee),uu=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sn(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ut(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function aa(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const at=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,la=t=>!hn(t)&&t!==at;function ai(){const{caseless:t}=la(this)&&this||{},e={},n=(r,i)=>{const o=t&&aa(e,i)||i;er(e[o])&&er(r)?e[o]=ai(e[o],r):er(r)?e[o]=ai({},r):Ut(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sn(arguments[r],n);return e}const fu=(t,e,n,{allOwnKeys:r}={})=>(Sn(e,(i,o)=>{n&&de(i)?t[o]=ia(i,n):t[o]=i},{allOwnKeys:r}),t),du=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hu=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},pu=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Hi(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},gu=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},mu=t=>{if(!t)return null;if(Ut(t))return t;let e=t.length;if(!sa(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},yu=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hi(Uint8Array)),bu=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},vu=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_u=Ee("HTMLFormElement"),wu=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ko=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Su=Ee("RegExp"),ca=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sn(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Cu=t=>{ca(t,(e,n)=>{if(de(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(de(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xu=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ut(t)?r(t):r(String(t).split(e)),n},Eu=()=>{},Au=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Hr="abcdefghijklmnopqrstuvwxyz",Po="0123456789",ua={DIGIT:Po,ALPHA:Hr,ALPHA_DIGIT:Hr+Hr.toUpperCase()+Po},Ou=(t=16,e=ua.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Tu(t){return!!(t&&de(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ru=t=>{const e=new Array(10),n=(r,i)=>{if(xr(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ut(r)?[]:{};return Sn(r,(s,a)=>{const l=n(s,i+1);!hn(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},ku=Ee("AsyncFunction"),Pu=t=>t&&(xr(t)||de(t))&&de(t.then)&&de(t.catch),fa=((t,e)=>t?setImmediate:e?((n,r)=>(at.addEventListener("message",({source:i,data:o})=>{i===at&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),at.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",de(at.postMessage)),Bu=typeof queueMicrotask<"u"?queueMicrotask.bind(at):typeof process<"u"&&process.nextTick||fa,_={isArray:Ut,isArrayBuffer:oa,isBuffer:Yc,isFormData:iu,isArrayBufferView:Jc,isString:Xc,isNumber:sa,isBoolean:Qc,isObject:xr,isPlainObject:er,isReadableStream:su,isRequest:au,isResponse:lu,isHeaders:cu,isUndefined:hn,isDate:Zc,isFile:eu,isBlob:tu,isRegExp:Su,isFunction:de,isStream:ru,isURLSearchParams:ou,isTypedArray:yu,isFileList:nu,forEach:Sn,merge:ai,extend:fu,trim:uu,stripBOM:du,inherits:hu,toFlatObject:pu,kindOf:Sr,kindOfTest:Ee,endsWith:gu,toArray:mu,forEachEntry:bu,matchAll:vu,isHTMLForm:_u,hasOwnProperty:ko,hasOwnProp:ko,reduceDescriptors:ca,freezeMethods:Cu,toObjectSet:xu,toCamelCase:wu,noop:Eu,toFiniteNumber:Au,findKey:aa,global:at,isContextDefined:la,ALPHABET:ua,generateString:Ou,isSpecCompliantForm:Tu,toJSONObject:Ru,isAsyncFn:ku,isThenable:Pu,setImmediate:fa,asap:Bu};function k(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_.inherits(k,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const da=k.prototype,ha={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ha[t]={value:t}});Object.defineProperties(k,ha);Object.defineProperty(da,"isAxiosError",{value:!0});k.from=(t,e,n,r,i,o)=>{const s=Object.create(da);return _.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),k.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Lu=null;function li(t){return _.isPlainObject(t)||_.isArray(t)}function pa(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function Bo(t,e,n){return t?t.concat(e).map(function(i,o){return i=pa(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Du(t){return _.isArray(t)&&!t.some(li)}const Nu=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function Er(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,d){return!_.isUndefined(d[b])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(_.isDate(g))return g.toISOString();if(!l&&_.isBlob(g))throw new k("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(g)||_.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,d){let v=g;if(g&&!d&&typeof g=="object"){if(_.endsWith(b,"{}"))b=r?b:b.slice(0,-2),g=JSON.stringify(g);else if(_.isArray(g)&&Du(g)||(_.isFileList(g)||_.endsWith(b,"[]"))&&(v=_.toArray(g)))return b=pa(b),v.forEach(function(x,p){!(_.isUndefined(x)||x===null)&&e.append(s===!0?Bo([b],p,o):s===null?b:b+"[]",c(x))}),!1}return li(g)?!0:(e.append(Bo(d,b,o),c(g)),!1)}const f=[],h=Object.assign(Nu,{defaultVisitor:u,convertValue:c,isVisitable:li});function m(g,b){if(!_.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(g),_.forEach(g,function(v,w){(!(_.isUndefined(v)||v===null)&&i.call(e,v,_.isString(w)?w.trim():w,b,h))===!0&&m(v,b?b.concat(w):[w])}),f.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Lo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zi(t,e){this._pairs=[],t&&Er(t,this,e)}const ga=zi.prototype;ga.append=function(e,n){this._pairs.push([e,n])};ga.toString=function(e){const n=e?function(r){return e.call(this,r,Lo)}:Lo;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Mu(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ma(t,e,n){if(!e)return t;const r=n&&n.encode||Mu,i=n&&n.serialize;let o;if(i?o=i(e,n):o=_.isURLSearchParams(e)?e.toString():new zi(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Do{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ya={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iu=typeof URLSearchParams<"u"?URLSearchParams:zi,Fu=typeof FormData<"u"?FormData:null,$u=typeof Blob<"u"?Blob:null,ju={isBrowser:!0,classes:{URLSearchParams:Iu,FormData:Fu,Blob:$u},protocols:["http","https","file","blob","url","data"]},Gi=typeof window<"u"&&typeof document<"u",ci=typeof navigator=="object"&&navigator||void 0,Uu=Gi&&(!ci||["ReactNative","NativeScript","NS"].indexOf(ci.product)<0),Hu=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zu=Gi&&window.location.href||"http://localhost",Gu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gi,hasStandardBrowserEnv:Uu,hasStandardBrowserWebWorkerEnv:Hu,navigator:ci,origin:zu},Symbol.toStringTag,{value:"Module"})),oe={...Gu,...ju};function Wu(t,e){return Er(t,new oe.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return oe.isNode&&_.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function qu(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vu(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ba(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&_.isArray(i)?i.length:s,l?(_.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&_.isArray(i[s])&&(i[s]=Vu(i[s])),!a)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(r,i)=>{e(qu(r),i,n,0)}),n}return null}function Ku(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Cn={transitional:ya,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_.isObject(e);if(o&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return i?JSON.stringify(ba(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e)||_.isReadableStream(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Wu(e,this.formSerializer).toString();if((a=_.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Er(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Ku(e)):e}],transformResponse:[function(e){const n=this.transitional||Cn.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_.isResponse(e)||_.isReadableStream(e))return e;if(e&&_.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?k.from(a,k.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{Cn.headers[t]={}});const Yu=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ju=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Yu[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},No=Symbol("internals");function Qt(t){return t&&String(t).trim().toLowerCase()}function tr(t){return t===!1||t==null?t:_.isArray(t)?t.map(tr):String(t)}function Xu(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Qu=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zr(t,e,n,r,i){if(_.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_.isString(e)){if(_.isString(r))return e.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(e)}}function Zu(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ef(t,e){const n=_.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class se{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Qt(l);if(!u)throw new Error("header name must be a non-empty string");const f=_.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=tr(a))}const s=(a,l)=>_.forEach(a,(c,u)=>o(c,u,l));if(_.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(_.isString(e)&&(e=e.trim())&&!Qu(e))s(Ju(e),n);else if(_.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Qt(e),e){const r=_.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Xu(i);if(_.isFunction(n))return n.call(this,i,r);if(_.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qt(e),e){const r=_.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zr(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Qt(s),s){const a=_.findKey(r,s);a&&(!n||zr(r,r[a],a,n))&&(delete r[a],i=!0)}}return _.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||zr(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return _.forEach(this,(i,o)=>{const s=_.findKey(r,o);if(s){n[s]=tr(i),delete n[o];return}const a=e?Zu(o):String(o).trim();a!==o&&delete n[o],n[a]=tr(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[No]=this[No]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Qt(s);r[a]||(ef(i,s),r[a]=!0)}return _.isArray(e)?e.forEach(o):o(e),this}}se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(se.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_.freezeMethods(se);function Gr(t,e){const n=this||Cn,r=e||n,i=se.from(r.headers);let o=r.data;return _.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function va(t){return!!(t&&t.__CANCEL__)}function Ht(t,e,n){k.call(this,t??"canceled",k.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(Ht,k,{__CANCEL__:!0});function _a(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new k("Request failed with status code "+n.status,[k.ERR_BAD_REQUEST,k.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tf(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function nf(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let f=o,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function rf(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const sr=(t,e,n=3)=>{let r=0;const i=nf(50,250);return rf(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},Mo=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Io=t=>(...e)=>_.asap(()=>t(...e)),of=oe.hasStandardBrowserEnv?function(){const e=oe.navigator&&/(msie|trident)/i.test(oe.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=_.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),sf=oe.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];_.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_.isString(r)&&s.push("path="+r),_.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function af(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lf(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wa(t,e){return t&&!af(e)?lf(t,e):e}const Fo=t=>t instanceof se?{...t}:t;function bt(t,e){e=e||{};const n={};function r(c,u,f){return _.isPlainObject(c)&&_.isPlainObject(u)?_.merge.call({caseless:f},c,u):_.isPlainObject(u)?_.merge({},u):_.isArray(u)?u.slice():u}function i(c,u,f){if(_.isUndefined(u)){if(!_.isUndefined(c))return r(void 0,c,f)}else return r(c,u,f)}function o(c,u){if(!_.isUndefined(u))return r(void 0,u)}function s(c,u){if(_.isUndefined(u)){if(!_.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>i(Fo(c),Fo(u),!0)};return _.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||i,h=f(t[u],e[u],u);_.isUndefined(h)&&f!==a||(n[u]=h)}),n}const Sa=t=>{const e=bt({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=se.from(s),e.url=ma(wa(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_.isFormData(n)){if(oe.hasStandardBrowserEnv||oe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(oe.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(e)),r||r!==!1&&of(e.url))){const c=i&&o&&sf.read(o);c&&s.set(i,c)}return e},cf=typeof XMLHttpRequest<"u",uf=cf&&function(t){return new Promise(function(n,r){const i=Sa(t);let o=i.data;const s=se.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,h,m,g;function b(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function v(){if(!d)return;const x=se.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:x,config:t,request:d};_a(function(T){n(T),b()},function(T){r(T),b()},E),d=null}"onloadend"in d?d.onloadend=v:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(v)},d.onabort=function(){d&&(r(new k("Request aborted",k.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new k("Network Error",k.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||ya;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new k(p,E.clarifyTimeoutError?k.ETIMEDOUT:k.ECONNABORTED,t,d)),d=null},o===void 0&&s.setContentType(null),"setRequestHeader"in d&&_.forEach(s.toJSON(),function(p,E){d.setRequestHeader(E,p)}),_.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),a&&a!=="json"&&(d.responseType=i.responseType),c&&([h,g]=sr(c,!0),d.addEventListener("progress",h)),l&&d.upload&&([f,m]=sr(l),d.upload.addEventListener("progress",f),d.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=x=>{d&&(r(!x||x.type?new Ht(null,t,d):x),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=tf(i.url);if(w&&oe.protocols.indexOf(w)===-1){r(new k("Unsupported protocol "+w+":",k.ERR_BAD_REQUEST,t));return}d.send(o||null)})},ff=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof k?u:new Ht(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new k(`timeout ${e} of ms exceeded`,k.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>_.asap(a),l}},df=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},hf=async function*(t,e){for await(const n of pf(t))yield*df(n,e)},pf=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},$o=(t,e,n,r)=>{const i=hf(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Ar=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ca=Ar&&typeof ReadableStream=="function",gf=Ar&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),xa=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mf=Ca&&xa(()=>{let t=!1;const e=new Request(oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),jo=64*1024,ui=Ca&&xa(()=>_.isReadableStream(new Response("").body)),ar={stream:ui&&(t=>t.body)};Ar&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ar[e]&&(ar[e]=_.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new k(`Response type '${e}' is not supported`,k.ERR_NOT_SUPPORT,r)})})})(new Response);const yf=async t=>{if(t==null)return 0;if(_.isBlob(t))return t.size;if(_.isSpecCompliantForm(t))return(await new Request(oe.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_.isArrayBufferView(t)||_.isArrayBuffer(t))return t.byteLength;if(_.isURLSearchParams(t)&&(t=t+""),_.isString(t))return(await gf(t)).byteLength},bf=async(t,e)=>{const n=_.toFiniteNumber(t.getContentLength());return n??yf(e)},vf=Ar&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=Sa(t);c=c?(c+"").toLowerCase():"text";let m=ff([i,o&&o.toAbortSignal()],s),g;const b=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let d;try{if(l&&mf&&n!=="get"&&n!=="head"&&(d=await bf(u,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(_.isFormData(r)&&(C=E.headers.get("content-type"))&&u.setContentType(C),E.body){const[T,B]=Mo(d,sr(Io(l)));r=$o(E.body,jo,T,B)}}_.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let w=await fetch(g);const x=ui&&(c==="stream"||c==="response");if(ui&&(a||x&&b)){const E={};["status","statusText","headers"].forEach(N=>{E[N]=w[N]});const C=_.toFiniteNumber(w.headers.get("content-length")),[T,B]=a&&Mo(C,sr(Io(a),!0))||[];w=new Response($o(w.body,jo,T,()=>{B&&B(),b&&b()}),E)}c=c||"text";let p=await ar[_.findKey(ar,c)||"text"](w,t);return!x&&b&&b(),await new Promise((E,C)=>{_a(E,C,{data:p,headers:se.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:g})})}catch(v){throw b&&b(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new k("Network Error",k.ERR_NETWORK,t,g),{cause:v.cause||v}):k.from(v,v&&v.code,t,g)}}),fi={http:Lu,xhr:uf,fetch:vf};_.forEach(fi,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uo=t=>`- ${t}`,_f=t=>_.isFunction(t)||t===null||t===!1,Ea={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!_f(n)&&(r=fi[(s=String(n)).toLowerCase()],r===void 0))throw new k(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(Uo).join(`
`):" "+Uo(o[0]):"as no adapter specified";throw new k("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:fi};function Wr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ht(null,t)}function Ho(t){return Wr(t),t.headers=se.from(t.headers),t.data=Gr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ea.getAdapter(t.adapter||Cn.adapter)(t).then(function(r){return Wr(t),r.data=Gr.call(t,t.transformResponse,r),r.headers=se.from(r.headers),r},function(r){return va(r)||(Wr(t),r&&r.response&&(r.response.data=Gr.call(t,t.transformResponse,r.response),r.response.headers=se.from(r.response.headers))),Promise.reject(r)})}const Aa="1.7.7",Wi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wi[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zo={};Wi.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Aa+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new k(i(s," has been removed"+(n?" in "+n:"")),k.ERR_DEPRECATED);return n&&!zo[s]&&(zo[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function wf(t,e,n){if(typeof t!="object")throw new k("options must be an object",k.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new k("option "+o+" must be "+l,k.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new k("Unknown option "+o,k.ERR_BAD_OPTION)}}const di={assertOptions:wf,validators:Wi},Ke=di.validators;class ft{constructor(e){this.defaults=e,this.interceptors={request:new Do,response:new Do}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&di.assertOptions(r,{silentJSONParsing:Ke.transitional(Ke.boolean),forcedJSONParsing:Ke.transitional(Ke.boolean),clarifyTimeoutError:Ke.transitional(Ke.boolean)},!1),i!=null&&(_.isFunction(i)?n.paramsSerializer={serialize:i}:di.assertOptions(i,{encode:Ke.function,serialize:Ke.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&_.merge(o.common,o[n.method]);o&&_.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=se.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,h;if(!l){const g=[Ho.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);f<h;)u=u.then(g[f++],g[f++]);return u}h=a.length;let m=n;for(f=0;f<h;){const g=a[f++],b=a[f++];try{m=g(m)}catch(d){b.call(this,d);break}}try{u=Ho.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=bt(this.defaults,e);const n=wa(e.baseURL,e.url);return ma(n,e.params,e.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(e){ft.prototype[e]=function(n,r){return this.request(bt(r||{},{method:e,url:n,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(bt(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ft.prototype[e]=n(),ft.prototype[e+"Form"]=n(!0)});class qi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Ht(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new qi(function(i){e=i}),cancel:e}}}function Sf(t){return function(n){return t.apply(null,n)}}function Cf(t){return _.isObject(t)&&t.isAxiosError===!0}const hi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hi).forEach(([t,e])=>{hi[e]=t});function Oa(t){const e=new ft(t),n=ia(ft.prototype.request,e);return _.extend(n,ft.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Oa(bt(t,i))},n}const U=Oa(Cn);U.Axios=ft;U.CanceledError=Ht;U.CancelToken=qi;U.isCancel=va;U.VERSION=Aa;U.toFormData=Er;U.AxiosError=k;U.Cancel=U.CanceledError;U.all=function(e){return Promise.all(e)};U.spread=Sf;U.isAxiosError=Cf;U.mergeConfig=bt;U.AxiosHeaders=se;U.formToJSON=t=>ba(_.isHTMLForm(t)?new FormData(t):t);U.getAdapter=Ea.getAdapter;U.HttpStatusCode=hi;U.default=U;var pi=!1,gi=!1,dt=[],mi=-1;function xf(t){Ef(t)}function Ef(t){dt.includes(t)||dt.push(t),Af()}function Ta(t){let e=dt.indexOf(t);e!==-1&&e>mi&&dt.splice(e,1)}function Af(){!gi&&!pi&&(pi=!0,queueMicrotask(Of))}function Of(){pi=!1,gi=!0;for(let t=0;t<dt.length;t++)dt[t](),mi=t;dt.length=0,mi=-1,gi=!1}var zt,wt,Gt,Ra,yi=!0;function Tf(t){yi=!1,t(),yi=!0}function Rf(t){zt=t.reactive,Gt=t.release,wt=e=>t.effect(e,{scheduler:n=>{yi?xf(n):n()}}),Ra=t.raw}function Go(t){wt=t}function kf(t){let e=()=>{};return[r=>{let i=wt(r);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(o=>o())}),t._x_effects.add(i),e=()=>{i!==void 0&&(t._x_effects.delete(i),Gt(i))},i},()=>{e()}]}function ka(t,e){let n=!0,r,i=wt(()=>{let o=t();JSON.stringify(o),n?r=o:queueMicrotask(()=>{e(o,r),r=o}),n=!1});return()=>Gt(i)}function sn(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Xe(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(i=>Xe(i,e));return}let n=!1;if(e(t,()=>n=!0),n)return;let r=t.firstElementChild;for(;r;)Xe(r,e),r=r.nextElementSibling}function Se(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var Wo=!1;function Pf(){Wo&&Se("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Wo=!0,document.body||Se("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),sn(document,"alpine:init"),sn(document,"alpine:initializing"),Qi(),Df(e=>Ge(e,Xe)),Yi(e=>Ki(e)),ja((e,n)=>{no(e,n).forEach(r=>r())});let t=e=>!Or(e.parentElement,!0);Array.from(document.querySelectorAll(La().join(","))).filter(t).forEach(e=>{Ge(e)}),sn(document,"alpine:initialized")}var Vi=[],Pa=[];function Ba(){return Vi.map(t=>t())}function La(){return Vi.concat(Pa).map(t=>t())}function Da(t){Vi.push(t)}function Na(t){Pa.push(t)}function Or(t,e=!1){return xn(t,n=>{if((e?La():Ba()).some(i=>n.matches(i)))return!0})}function xn(t,e){if(t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return xn(t.parentElement,e)}}function Bf(t){return Ba().some(e=>t.matches(e))}var Ma=[];function Lf(t){Ma.push(t)}function Ge(t,e=Xe,n=()=>{}){Kf(()=>{e(t,(r,i)=>{n(r,i),Ma.forEach(o=>o(r,i)),no(r,r.attributes).forEach(o=>o()),r._x_ignore&&i()})})}function Ki(t,e=Xe){e(t,n=>{Ha(n),Nf(n)})}var Ia=[],Fa=[],$a=[];function Df(t){$a.push(t)}function Yi(t,e){typeof e=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(e)):(e=t,Fa.push(e))}function ja(t){Ia.push(t)}function Ua(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}function Ha(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([n,r])=>{(e===void 0||e.includes(n))&&(r.forEach(i=>i()),delete t._x_attributeCleanups[n])})}function Nf(t){if(t._x_cleanups)for(;t._x_cleanups.length;)t._x_cleanups.pop()()}var Ji=new MutationObserver(eo),Xi=!1;function Qi(){Ji.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Xi=!0}function za(){Mf(),Ji.disconnect(),Xi=!1}var Zt=[];function Mf(){let t=Ji.takeRecords();Zt.push(()=>t.length>0&&eo(t));let e=Zt.length;queueMicrotask(()=>{if(Zt.length===e)for(;Zt.length>0;)Zt.shift()()})}function W(t){if(!Xi)return t();za();let e=t();return Qi(),e}var Zi=!1,lr=[];function If(){Zi=!0}function Ff(){Zi=!1,eo(lr),lr=[]}function eo(t){if(Zi){lr=lr.concat(t);return}let e=new Set,n=new Set,r=new Map,i=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&(t[o].type==="childList"&&(t[o].addedNodes.forEach(s=>s.nodeType===1&&e.add(s)),t[o].removedNodes.forEach(s=>s.nodeType===1&&n.add(s))),t[o].type==="attributes")){let s=t[o].target,a=t[o].attributeName,l=t[o].oldValue,c=()=>{r.has(s)||r.set(s,[]),r.get(s).push({name:a,value:s.getAttribute(a)})},u=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&l===null?c():s.hasAttribute(a)?(u(),c()):u()}i.forEach((o,s)=>{Ha(s,o)}),r.forEach((o,s)=>{Ia.forEach(a=>a(s,o))});for(let o of n)e.has(o)||(Fa.forEach(s=>s(o)),Ki(o));e.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of e)n.has(o)||o.isConnected&&(delete o._x_ignoreSelf,delete o._x_ignore,$a.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);e.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),e=null,n=null,r=null,i=null}function Ga(t){return An(Lt(t))}function En(t,e,n){return t._x_dataStack=[e,...Lt(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter(r=>r!==e)}}function Lt(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Lt(t.host):t.parentNode?Lt(t.parentNode):[]}function An(t){return new Proxy({objects:t},$f)}var $f={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(e=>Object.keys(e))))},has({objects:t},e){return e==Symbol.unscopables?!1:t.some(n=>Object.prototype.hasOwnProperty.call(n,e)||Reflect.has(n,e))},get({objects:t},e,n){return e=="toJSON"?jf:Reflect.get(t.find(r=>Reflect.has(r,e))||{},e,n)},set({objects:t},e,n,r){const i=t.find(s=>Object.prototype.hasOwnProperty.call(s,e))||t[t.length-1],o=Object.getOwnPropertyDescriptor(i,e);return o!=null&&o.set&&(o!=null&&o.get)?Reflect.set(i,e,n,r):Reflect.set(i,e,n)}};function jf(){return Reflect.ownKeys(this).reduce((e,n)=>(e[n]=Reflect.get(this,n),e),{})}function Wa(t){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0||typeof s=="object"&&s!==null&&s.__v_skip)return;let l=i===""?o:`${i}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?r[o]=s.initialize(t,l,o):e(s)&&s!==r&&!(s instanceof Element)&&n(s,l)})};return n(t)}function qa(t,e=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,i,o){return t(this.initialValue,()=>Uf(r,i),s=>bi(r,i,s),i,o)}};return e(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let i=n.initialize.bind(n);n.initialize=(o,s,a)=>{let l=r.initialize(o,s,a);return n.initialValue=l,i(o,s,a)}}else n.initialValue=r;return n}}function Uf(t,e){return e.split(".").reduce((n,r)=>n[r],t)}function bi(t,e,n){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=n;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),bi(t[e[0]],e.slice(1),n)}}var Va={};function Ae(t,e){Va[t]=e}function vi(t,e){return Object.entries(Va).forEach(([n,r])=>{let i=null;function o(){if(i)return i;{let[s,a]=Za(e);return i={interceptor:qa,...s},Yi(e,a),i}}Object.defineProperty(t,`$${n}`,{get(){return r(e,o())},enumerable:!1})}),t}function Hf(t,e,n,...r){try{return n(...r)}catch(i){pn(i,t,e)}}function pn(t,e,n=void 0){t=Object.assign(t??{message:"No error message given."},{el:e,expression:n}),console.warn(`Alpine Expression Error: ${t.message}

${n?'Expression: "'+n+`"

`:""}`,e),setTimeout(()=>{throw t},0)}var nr=!0;function Ka(t){let e=nr;nr=!1;let n=t();return nr=e,n}function ht(t,e,n={}){let r;return re(t,e)(i=>r=i,n),r}function re(...t){return Ya(...t)}var Ya=Ja;function zf(t){Ya=t}function Ja(t,e){let n={};vi(n,t);let r=[n,...Lt(t)],i=typeof e=="function"?Gf(r,e):qf(r,e,t);return Hf.bind(null,t,e,i)}function Gf(t,e){return(n=()=>{},{scope:r={},params:i=[]}={})=>{let o=e.apply(An([r,...t]),i);cr(n,o)}}var qr={};function Wf(t,e){if(qr[t])return qr[t];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,o=(()=>{try{let s=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(s,"name",{value:`[Alpine] ${t}`}),s}catch(s){return pn(s,e,t),Promise.resolve()}})();return qr[t]=o,o}function qf(t,e,n){let r=Wf(e,n);return(i=()=>{},{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=An([o,...t]);if(typeof r=="function"){let l=r(r,a).catch(c=>pn(c,n,e));r.finished?(cr(i,r.result,a,s,n),r.result=void 0):l.then(c=>{cr(i,c,a,s,n)}).catch(c=>pn(c,n,e)).finally(()=>r.result=void 0)}}}function cr(t,e,n,r,i){if(nr&&typeof e=="function"){let o=e.apply(n,r);o instanceof Promise?o.then(s=>cr(t,s,n,r)).catch(s=>pn(s,i,e)):t(o)}else typeof e=="object"&&e instanceof Promise?e.then(o=>t(o)):t(e)}var to="x-";function Wt(t=""){return to+t}function Vf(t){to=t}var _i={};function G(t,e){return _i[t]=e,{before(n){if(!_i[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${t}\` will use the default order of execution`);return}const r=lt.indexOf(n);lt.splice(r>=0?r:lt.indexOf("DEFAULT"),0,t)}}}function no(t,e,n){if(e=Array.from(e),t._x_virtualDirectives){let o=Object.entries(t._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),s=Xa(o);o=o.map(a=>s.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(o)}let r={};return e.map(nl((o,s)=>r[o]=s)).filter(il).map(Jf(r,n)).sort(Xf).map(o=>Yf(t,o))}function Xa(t){return Array.from(t).map(nl()).filter(e=>!il(e))}var wi=!1,rn=new Map,Qa=Symbol();function Kf(t){wi=!0;let e=Symbol();Qa=e,rn.set(e,[]);let n=()=>{for(;rn.get(e).length;)rn.get(e).shift()();rn.delete(e)},r=()=>{wi=!1,n()};t(n),r()}function Za(t){let e=[],n=a=>e.push(a),[r,i]=kf(t);return e.push(i),[{Alpine:On,effect:r,cleanup:n,evaluateLater:re.bind(re,t),evaluate:ht.bind(ht,t)},()=>e.forEach(a=>a())]}function Yf(t,e){let n=()=>{},r=_i[e.type]||n,[i,o]=Za(t);Ua(t,e.original,o);let s=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,i),r=r.bind(r,t,e,i),wi?rn.get(Qa).push(r):r())};return s.runCleanups=o,s}var el=(t,e)=>({name:n,value:r})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:r}),tl=t=>t;function nl(t=()=>{}){return({name:e,value:n})=>{let{name:r,value:i}=rl.reduce((o,s)=>s(o),{name:e,value:n});return r!==e&&t(r,e),{name:r,value:i}}}var rl=[];function ro(t){rl.push(t)}function il({name:t}){return ol().test(t)}var ol=()=>new RegExp(`^${to}([^:^.]+)\\b`);function Jf(t,e){return({name:n,value:r})=>{let i=n.match(ol()),o=n.match(/:([a-zA-Z0-9\-_:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||t[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map(l=>l.replace(".","")),expression:r,original:a}}}var Si="DEFAULT",lt=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Si,"teleport"];function Xf(t,e){let n=lt.indexOf(t.type)===-1?Si:t.type,r=lt.indexOf(e.type)===-1?Si:e.type;return lt.indexOf(n)-lt.indexOf(r)}var Ci=[],io=!1;function oo(t=()=>{}){return queueMicrotask(()=>{io||setTimeout(()=>{xi()})}),new Promise(e=>{Ci.push(()=>{t(),e()})})}function xi(){for(io=!1;Ci.length;)Ci.shift()()}function Qf(){io=!0}function so(t,e){return Array.isArray(e)?qo(t,e.join(" ")):typeof e=="object"&&e!==null?Zf(t,e):typeof e=="function"?so(t,e()):qo(t,e)}function qo(t,e){let n=i=>i.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),r=i=>(t.classList.add(...i),()=>{t.classList.remove(...i)});return e=e===!0?e="":e||"",r(n(e))}function Zf(t,e){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),o=[],s=[];return i.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),s.push(a))}),r.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),o.push(a))}),()=>{s.forEach(a=>t.classList.add(a)),o.forEach(a=>t.classList.remove(a))}}function Tr(t,e){return typeof e=="object"&&e!==null?ed(t,e):td(t,e)}function ed(t,e){let n={};return Object.entries(e).forEach(([r,i])=>{n[r]=t.style[r],r.startsWith("--")||(r=nd(r)),t.style.setProperty(r,i)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Tr(t,n)}}function td(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n||"")}}function nd(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ei(t,e=()=>{}){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}G("transition",(t,{value:e,modifiers:n,expression:r},{evaluate:i})=>{typeof r=="function"&&(r=i(r)),r!==!1&&(!r||typeof r=="boolean"?id(t,n,e):rd(t,r,e))});function rd(t,e,n){sl(t,so,""),{enter:i=>{t._x_transition.enter.during=i},"enter-start":i=>{t._x_transition.enter.start=i},"enter-end":i=>{t._x_transition.enter.end=i},leave:i=>{t._x_transition.leave.during=i},"leave-start":i=>{t._x_transition.leave.start=i},"leave-end":i=>{t._x_transition.leave.end=i}}[n](e)}function id(t,e,n){sl(t,Tr);let r=!e.includes("in")&&!e.includes("out")&&!n,i=r||e.includes("in")||["enter"].includes(n),o=r||e.includes("out")||["leave"].includes(n);e.includes("in")&&!r&&(e=e.filter((v,w)=>w<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((v,w)=>w>e.indexOf("out")));let s=!e.includes("opacity")&&!e.includes("scale"),a=s||e.includes("opacity"),l=s||e.includes("scale"),c=a?0:1,u=l?en(e,"scale",95)/100:1,f=en(e,"delay",0)/1e3,h=en(e,"origin","center"),m="opacity, transform",g=en(e,"duration",150)/1e3,b=en(e,"duration",75)/1e3,d="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:h,transitionDelay:`${f}s`,transitionProperty:m,transitionDuration:`${g}s`,transitionTimingFunction:d},t._x_transition.enter.start={opacity:c,transform:`scale(${u})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(t._x_transition.leave.during={transformOrigin:h,transitionDelay:`${f}s`,transitionProperty:m,transitionDuration:`${b}s`,transitionTimingFunction:d},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function sl(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},i=()=>{}){Ai(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,i)},out(r=()=>{},i=()=>{}){Ai(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,r){const i=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>i(n);if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(n):o():t._x_transition?t._x_transition.in(n):o();return}t._x_hidePromise=t._x_transition?new Promise((s,a)=>{t._x_transition.out(()=>{},()=>s(r)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let s=al(t);s?(s._x_hideChildren||(s._x_hideChildren=[]),s._x_hideChildren.push(t)):i(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(t).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function al(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:al(e)}function Ai(t,e,{during:n,start:r,end:i}={},o=()=>{},s=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(i).length===0){o(),s();return}let a,l,c;od(t,{start(){a=e(t,r)},during(){l=e(t,n)},before:o,end(){a(),c=e(t,i)},after:s,cleanup(){l(),c()}})}function od(t,e){let n,r,i,o=Ei(()=>{W(()=>{n=!0,r||e.before(),i||(e.end(),xi()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:Ei(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},W(()=>{e.start(),e.during()}),Qf(),requestAnimationFrame(()=>{if(n)return;let s=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),W(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{n||(W(()=>{e.end()}),xi(),setTimeout(t._x_transitioning.finish,s+a),i=!0)})})}function en(t,e,n){if(t.indexOf(e)===-1)return n;const r=t[t.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return n;if(e==="duration"||e==="delay"){let i=r.match(/([0-9]+)ms/);if(i)return i[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}var Qe=!1;function St(t,e=()=>{}){return(...n)=>Qe?e(...n):t(...n)}function sd(t){return(...e)=>Qe&&t(...e)}var ll=[];function Rr(t){ll.push(t)}function ad(t,e){ll.forEach(n=>n(t,e)),Qe=!0,cl(()=>{Ge(e,(n,r)=>{r(n,()=>{})})}),Qe=!1}var Oi=!1;function ld(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Qe=!0,Oi=!0,cl(()=>{cd(e)}),Qe=!1,Oi=!1}function cd(t){let e=!1;Ge(t,(r,i)=>{Xe(r,(o,s)=>{if(e&&Bf(o))return s();e=!0,i(o,s)})})}function cl(t){let e=wt;Go((n,r)=>{let i=e(n);return Gt(i),()=>{}}),t(),Go(e)}function ul(t,e,n,r=[]){switch(t._x_bindings||(t._x_bindings=zt({})),t._x_bindings[e]=n,e=r.includes("camel")?yd(e):e,e){case"value":ud(t,n);break;case"style":dd(t,n);break;case"class":fd(t,n);break;case"selected":case"checked":hd(t,e,n);break;default:fl(t,e,n);break}}function ud(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(typeof e=="boolean"?t.checked=rr(t.value)===e:t.checked=Vo(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(n=>Vo(n,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")md(t,e);else{if(t.value===e)return;t.value=e===void 0?"":e}}function fd(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=so(t,e)}function dd(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Tr(t,e)}function hd(t,e,n){fl(t,e,n),gd(t,e,n)}function fl(t,e,n){[null,void 0,!1].includes(n)&&bd(e)?t.removeAttribute(e):(dl(e)&&(n=e),pd(t,e,n))}function pd(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function gd(t,e,n){t[e]!==n&&(t[e]=n)}function md(t,e){const n=[].concat(e).map(r=>r+"");Array.from(t.options).forEach(r=>{r.selected=n.includes(r.value)})}function yd(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function Vo(t,e){return t==e}function rr(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}function dl(t){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function bd(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function vd(t,e,n){return t._x_bindings&&t._x_bindings[e]!==void 0?t._x_bindings[e]:hl(t,e,n)}function _d(t,e,n,r=!0){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];if(t._x_inlineBindings&&t._x_inlineBindings[e]!==void 0){let i=t._x_inlineBindings[e];return i.extract=r,Ka(()=>ht(t,i.expression))}return hl(t,e,n)}function hl(t,e,n){let r=t.getAttribute(e);return r===null?typeof n=="function"?n():n:r===""?!0:dl(e)?!![e,"true"].includes(r):r}function pl(t,e){var n;return function(){var r=this,i=arguments,o=function(){n=null,t.apply(r,i)};clearTimeout(n),n=setTimeout(o,e)}}function gl(t,e){let n;return function(){let r=this,i=arguments;n||(t.apply(r,i),n=!0,setTimeout(()=>n=!1,e))}}function ml({get:t,set:e},{get:n,set:r}){let i=!0,o,s=wt(()=>{let a=t(),l=n();if(i)r(Vr(a)),i=!1;else{let c=JSON.stringify(a),u=JSON.stringify(l);c!==o?r(Vr(a)):c!==u&&e(Vr(l))}o=JSON.stringify(t()),JSON.stringify(n())});return()=>{Gt(s)}}function Vr(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function wd(t){(Array.isArray(t)?t:[t]).forEach(n=>n(On))}var ot={},Ko=!1;function Sd(t,e){if(Ko||(ot=zt(ot),Ko=!0),e===void 0)return ot[t];ot[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&ot[t].init(),Wa(ot[t])}function Cd(){return ot}var yl={};function xd(t,e){let n=typeof e!="function"?()=>e:e;return t instanceof Element?bl(t,n()):(yl[t]=n,()=>{})}function Ed(t){return Object.entries(yl).forEach(([e,n])=>{Object.defineProperty(t,e,{get(){return(...r)=>n(...r)}})}),t}function bl(t,e,n){let r=[];for(;r.length;)r.pop()();let i=Object.entries(e).map(([s,a])=>({name:s,value:a})),o=Xa(i);return i=i.map(s=>o.find(a=>a.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),no(t,i,n).map(s=>{r.push(s.runCleanups),s()}),()=>{for(;r.length;)r.pop()()}}var vl={};function Ad(t,e){vl[t]=e}function Od(t,e){return Object.entries(vl).forEach(([n,r])=>{Object.defineProperty(t,n,{get(){return(...i)=>r.bind(e)(...i)},enumerable:!1})}),t}var Td={get reactive(){return zt},get release(){return Gt},get effect(){return wt},get raw(){return Ra},version:"3.13.8",flushAndStopDeferringMutations:Ff,dontAutoEvaluateFunctions:Ka,disableEffectScheduling:Tf,startObservingMutations:Qi,stopObservingMutations:za,setReactivityEngine:Rf,onAttributeRemoved:Ua,onAttributesAdded:ja,closestDataStack:Lt,skipDuringClone:St,onlyDuringClone:sd,addRootSelector:Da,addInitSelector:Na,interceptClone:Rr,addScopeToNode:En,deferMutations:If,mapAttributes:ro,evaluateLater:re,interceptInit:Lf,setEvaluator:zf,mergeProxies:An,extractProp:_d,findClosest:xn,onElRemoved:Yi,closestRoot:Or,destroyTree:Ki,interceptor:qa,transition:Ai,setStyles:Tr,mutateDom:W,directive:G,entangle:ml,throttle:gl,debounce:pl,evaluate:ht,initTree:Ge,nextTick:oo,prefixed:Wt,prefix:Vf,plugin:wd,magic:Ae,store:Sd,start:Pf,clone:ld,cloneNode:ad,bound:vd,$data:Ga,watch:ka,walk:Xe,data:Ad,bind:xd},On=Td;function Rd(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return i=>!!n[i]}var kd=Object.freeze({}),Pd=Object.prototype.hasOwnProperty,kr=(t,e)=>Pd.call(t,e),pt=Array.isArray,an=t=>_l(t)==="[object Map]",Bd=t=>typeof t=="string",ao=t=>typeof t=="symbol",Pr=t=>t!==null&&typeof t=="object",Ld=Object.prototype.toString,_l=t=>Ld.call(t),wl=t=>_l(t).slice(8,-1),lo=t=>Bd(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Dd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Nd=Dd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sl=(t,e)=>t!==e&&(t===t||e===e),Ti=new WeakMap,tn=[],Pe,gt=Symbol("iterate"),Ri=Symbol("Map key iterate");function Md(t){return t&&t._isEffect===!0}function Id(t,e=kd){Md(t)&&(t=t.raw);const n=jd(t,e);return e.lazy||n(),n}function Fd(t){t.active&&(Cl(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var $d=0;function jd(t,e){const n=function(){if(!n.active)return t();if(!tn.includes(n)){Cl(n);try{return Hd(),tn.push(n),Pe=n,t()}finally{tn.pop(),xl(),Pe=tn[tn.length-1]}}};return n.id=$d++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}function Cl(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var Dt=!0,co=[];function Ud(){co.push(Dt),Dt=!1}function Hd(){co.push(Dt),Dt=!0}function xl(){const t=co.pop();Dt=t===void 0?!0:t}function xe(t,e,n){if(!Dt||Pe===void 0)return;let r=Ti.get(t);r||Ti.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Pe)||(i.add(Pe),Pe.deps.push(i),Pe.options.onTrack&&Pe.options.onTrack({effect:Pe,target:t,type:e,key:n}))}function Ze(t,e,n,r,i,o){const s=Ti.get(t);if(!s)return;const a=new Set,l=u=>{u&&u.forEach(f=>{(f!==Pe||f.allowRecurse)&&a.add(f)})};if(e==="clear")s.forEach(l);else if(n==="length"&&pt(t))s.forEach((u,f)=>{(f==="length"||f>=r)&&l(u)});else switch(n!==void 0&&l(s.get(n)),e){case"add":pt(t)?lo(n)&&l(s.get("length")):(l(s.get(gt)),an(t)&&l(s.get(Ri)));break;case"delete":pt(t)||(l(s.get(gt)),an(t)&&l(s.get(Ri)));break;case"set":an(t)&&l(s.get(gt));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:t,key:n,type:e,newValue:r,oldValue:i,oldTarget:o}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var zd=Rd("__proto__,__v_isRef,__isVue"),El=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(ao)),Gd=Al(),Wd=Al(!0),Yo=qd();function qd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=j(this);for(let o=0,s=this.length;o<s;o++)xe(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(j)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ud();const r=j(this)[e].apply(this,n);return xl(),r}}),t}function Al(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&o===(t?e?sh:kl:e?oh:Rl).get(r))return r;const s=pt(r);if(!t&&s&&kr(Yo,i))return Reflect.get(Yo,i,o);const a=Reflect.get(r,i,o);return(ao(i)?El.has(i):zd(i))||(t||xe(r,"get",i),e)?a:ki(a)?!s||!lo(i)?a.value:a:Pr(a)?t?Pl(a):po(a):a}}var Vd=Kd();function Kd(t=!1){return function(n,r,i,o){let s=n[r];if(!t&&(i=j(i),s=j(s),!pt(n)&&ki(s)&&!ki(i)))return s.value=i,!0;const a=pt(n)&&lo(r)?Number(r)<n.length:kr(n,r),l=Reflect.set(n,r,i,o);return n===j(o)&&(a?Sl(i,s)&&Ze(n,"set",r,i,s):Ze(n,"add",r,i)),l}}function Yd(t,e){const n=kr(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&Ze(t,"delete",e,void 0,r),i}function Jd(t,e){const n=Reflect.has(t,e);return(!ao(e)||!El.has(e))&&xe(t,"has",e),n}function Xd(t){return xe(t,"iterate",pt(t)?"length":gt),Reflect.ownKeys(t)}var Qd={get:Gd,set:Vd,deleteProperty:Yd,has:Jd,ownKeys:Xd},Zd={get:Wd,set(t,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},uo=t=>Pr(t)?po(t):t,fo=t=>Pr(t)?Pl(t):t,ho=t=>t,Br=t=>Reflect.getPrototypeOf(t);function zn(t,e,n=!1,r=!1){t=t.__v_raw;const i=j(t),o=j(e);e!==o&&!n&&xe(i,"get",e),!n&&xe(i,"get",o);const{has:s}=Br(i),a=r?ho:n?fo:uo;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Gn(t,e=!1){const n=this.__v_raw,r=j(n),i=j(t);return t!==i&&!e&&xe(r,"has",t),!e&&xe(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Wn(t,e=!1){return t=t.__v_raw,!e&&xe(j(t),"iterate",gt),Reflect.get(t,"size",t)}function Jo(t){t=j(t);const e=j(this);return Br(e).has.call(e,t)||(e.add(t),Ze(e,"add",t,t)),this}function Xo(t,e){e=j(e);const n=j(this),{has:r,get:i}=Br(n);let o=r.call(n,t);o?Tl(n,r,t):(t=j(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Sl(e,s)&&Ze(n,"set",t,e,s):Ze(n,"add",t,e),this}function Qo(t){const e=j(this),{has:n,get:r}=Br(e);let i=n.call(e,t);i?Tl(e,n,t):(t=j(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&Ze(e,"delete",t,void 0,o),s}function Zo(){const t=j(this),e=t.size!==0,n=an(t)?new Map(t):new Set(t),r=t.clear();return e&&Ze(t,"clear",void 0,void 0,n),r}function qn(t,e){return function(r,i){const o=this,s=o.__v_raw,a=j(s),l=e?ho:t?fo:uo;return!t&&xe(a,"iterate",gt),s.forEach((c,u)=>r.call(i,l(c),l(u),o))}}function Vn(t,e,n){return function(...r){const i=this.__v_raw,o=j(i),s=an(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=i[t](...r),u=n?ho:e?fo:uo;return!e&&xe(o,"iterate",l?Ri:gt),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Ye(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${Nd(t)} operation ${n}failed: target is readonly.`,j(this))}return t==="delete"?!1:this}}function eh(){const t={get(o){return zn(this,o)},get size(){return Wn(this)},has:Gn,add:Jo,set:Xo,delete:Qo,clear:Zo,forEach:qn(!1,!1)},e={get(o){return zn(this,o,!1,!0)},get size(){return Wn(this)},has:Gn,add:Jo,set:Xo,delete:Qo,clear:Zo,forEach:qn(!1,!0)},n={get(o){return zn(this,o,!0)},get size(){return Wn(this,!0)},has(o){return Gn.call(this,o,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:qn(!0,!1)},r={get(o){return zn(this,o,!0,!0)},get size(){return Wn(this,!0)},has(o){return Gn.call(this,o,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:qn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Vn(o,!1,!1),n[o]=Vn(o,!0,!1),e[o]=Vn(o,!1,!0),r[o]=Vn(o,!0,!0)}),[t,n,e,r]}var[th,nh,Eb,Ab]=eh();function Ol(t,e){const n=t?nh:th;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kr(n,i)&&i in r?n:r,i,o)}var rh={get:Ol(!1)},ih={get:Ol(!0)};function Tl(t,e,n){const r=j(n);if(r!==n&&e.call(t,r)){const i=wl(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Rl=new WeakMap,oh=new WeakMap,kl=new WeakMap,sh=new WeakMap;function ah(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lh(t){return t.__v_skip||!Object.isExtensible(t)?0:ah(wl(t))}function po(t){return t&&t.__v_isReadonly?t:Bl(t,!1,Qd,rh,Rl)}function Pl(t){return Bl(t,!0,Zd,ih,kl)}function Bl(t,e,n,r,i){if(!Pr(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=lh(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function j(t){return t&&j(t.__v_raw)||t}function ki(t){return!!(t&&t.__v_isRef===!0)}Ae("nextTick",()=>oo);Ae("dispatch",t=>sn.bind(sn,t));Ae("watch",(t,{evaluateLater:e,cleanup:n})=>(r,i)=>{let o=e(r),a=ka(()=>{let l;return o(c=>l=c),l},i);n(a)});Ae("store",Cd);Ae("data",t=>Ga(t));Ae("root",t=>Or(t));Ae("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=An(ch(t))),t._x_refs_proxy));function ch(t){let e=[];return xn(t,n=>{n._x_refs&&e.push(n._x_refs)}),e}var Kr={};function Ll(t){return Kr[t]||(Kr[t]=0),++Kr[t]}function uh(t,e){return xn(t,n=>{if(n._x_ids&&n._x_ids[e])return!0})}function fh(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=Ll(e))}Ae("id",(t,{cleanup:e})=>(n,r=null)=>{let i=`${n}${r?`-${r}`:""}`;return dh(t,i,e,()=>{let o=uh(t,n),s=o?o._x_ids[n]:Ll(n);return r?`${n}-${s}-${r}`:`${n}-${s}`})});Rr((t,e)=>{t._x_id&&(e._x_id=t._x_id)});function dh(t,e,n,r){if(t._x_id||(t._x_id={}),t._x_id[e])return t._x_id[e];let i=r();return t._x_id[e]=i,n(()=>{delete t._x_id[e]}),i}Ae("el",t=>t);Dl("Focus","focus","focus");Dl("Persist","persist","persist");function Dl(t,e,n){Ae(e,r=>Se(`You can't use [$${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}G("modelable",(t,{expression:e},{effect:n,evaluateLater:r,cleanup:i})=>{let o=r(e),s=()=>{let u;return o(f=>u=f),u},a=r(`${e} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=s();l(c),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let u=t._x_model.get,f=t._x_model.set,h=ml({get(){return u()},set(m){f(m)}},{get(){return s()},set(m){l(m)}});i(h)})});G("teleport",(t,{modifiers:e,expression:n},{cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&Se("x-teleport can only be used on a <template> tag",t);let i=es(n),o=t.content.cloneNode(!0).firstElementChild;t._x_teleport=o,o._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{o.addEventListener(a,l=>{l.stopPropagation(),t.dispatchEvent(new l.constructor(l.type,l))})}),En(o,{},t);let s=(a,l,c)=>{c.includes("prepend")?l.parentNode.insertBefore(a,l):c.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};W(()=>{s(o,i,e),Ge(o),o._x_ignore=!0}),t._x_teleportPutBack=()=>{let a=es(n);W(()=>{s(t._x_teleport,a,e)})},r(()=>o.remove())});var hh=document.createElement("div");function es(t){let e=St(()=>document.querySelector(t),()=>hh)();return e||Se(`Cannot find x-teleport element for selector: "${t}"`),e}var Nl=()=>{};Nl.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};G("ignore",Nl);G("effect",St((t,{expression:e},{effect:n})=>{n(re(t,e))}));function Pi(t,e,n,r){let i=t,o=l=>r(l),s={},a=(l,c)=>u=>c(l,u);if(n.includes("dot")&&(e=ph(e)),n.includes("camel")&&(e=gh(e)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",c=ur(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=pl(o,c)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",c=ur(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=gl(o,c)}return n.includes("prevent")&&(o=a(o,(l,c)=>{c.preventDefault(),l(c)})),n.includes("stop")&&(o=a(o,(l,c)=>{c.stopPropagation(),l(c)})),n.includes("self")&&(o=a(o,(l,c)=>{c.target===t&&l(c)})),(n.includes("away")||n.includes("outside"))&&(i=document,o=a(o,(l,c)=>{t.contains(c.target)||c.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&l(c))})),n.includes("once")&&(o=a(o,(l,c)=>{l(c),i.removeEventListener(e,o,s)})),o=a(o,(l,c)=>{yh(e)&&bh(c,n)||l(c)}),i.addEventListener(e,o,s),()=>{i.removeEventListener(e,o,s)}}function ph(t){return t.replace(/-/g,".")}function gh(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function ur(t){return!Array.isArray(t)&&!isNaN(t)}function mh(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function yh(t){return["keydown","keyup"].includes(t)}function bh(t,e){let n=e.filter(o=>!["window","document","prevent","stop","once","capture"].includes(o));if(n.includes("debounce")){let o=n.indexOf("debounce");n.splice(o,ur((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let o=n.indexOf("throttle");n.splice(o,ur((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&ts(t.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>n.includes(o));return n=n.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),t[`${s}Key`])).length===i.length&&ts(t.key).includes(n[0]))}function ts(t){if(!t)return[];t=mh(t);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[t]=t,Object.keys(e).map(n=>{if(e[n]===t)return n}).filter(n=>n)}G("model",(t,{modifiers:e,expression:n},{effect:r,cleanup:i})=>{let o=t;e.includes("parent")&&(o=t.parentNode);let s=re(o,n),a;typeof n=="string"?a=re(o,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=re(o,`${n()} = __placeholder`):a=()=>{};let l=()=>{let h;return s(m=>h=m),rs(h)?h.get():h},c=h=>{let m;s(g=>m=g),rs(m)?m.set(h):a(()=>{},{scope:{__placeholder:h}})};typeof n=="string"&&t.type==="radio"&&W(()=>{t.hasAttribute("name")||t.setAttribute("name",n)});var u=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let f=Qe?()=>{}:Pi(t,u,e,h=>{c(ns(t,e,h,l()))});if(e.includes("fill")&&([void 0,null,""].includes(l())||t.type==="checkbox"&&Array.isArray(l()))&&c(ns(t,e,{target:t},l())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=f,i(()=>t._x_removeModelListeners.default()),t.form){let h=Pi(t.form,"reset",[],m=>{oo(()=>t._x_model&&t._x_model.set(t.value))});i(()=>h())}t._x_model={get(){return l()},set(h){c(h)}},t._x_forceModelUpdate=h=>{h===void 0&&typeof n=="string"&&n.match(/\./)&&(h=""),window.fromModel=!0,W(()=>ul(t,"value",h)),delete window.fromModel},r(()=>{let h=l();e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(h)})});function ns(t,e,n,r){return W(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(t.type==="checkbox")if(Array.isArray(r)){let i=null;return e.includes("number")?i=Yr(n.target.value):e.includes("boolean")?i=rr(n.target.value):i=n.target.value,n.target.checked?r.concat([i]):r.filter(o=>!vh(o,i))}else return n.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(i=>{let o=i.value||i.text;return Yr(o)}):e.includes("boolean")?Array.from(n.target.selectedOptions).map(i=>{let o=i.value||i.text;return rr(o)}):Array.from(n.target.selectedOptions).map(i=>i.value||i.text);{let i;return t.type==="radio"?n.target.checked?i=n.target.value:i=r:i=n.target.value,e.includes("number")?Yr(i):e.includes("boolean")?rr(i):e.includes("trim")?i.trim():i}}})}function Yr(t){let e=t?parseFloat(t):null;return _h(e)?e:t}function vh(t,e){return t==e}function _h(t){return!Array.isArray(t)&&!isNaN(t)}function rs(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}G("cloak",t=>queueMicrotask(()=>W(()=>t.removeAttribute(Wt("cloak")))));Na(()=>`[${Wt("init")}]`);G("init",St((t,{expression:e},{evaluate:n})=>typeof e=="string"?!!e.trim()&&n(e,{},!1):n(e,{},!1)));G("text",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(o=>{W(()=>{t.textContent=o})})})});G("html",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(o=>{W(()=>{t.innerHTML=o,t._x_ignoreSelf=!0,Ge(t),delete t._x_ignoreSelf})})})});ro(el(":",tl(Wt("bind:"))));var Ml=(t,{value:e,modifiers:n,expression:r,original:i},{effect:o,cleanup:s})=>{if(!e){let l={};Ed(l),re(t,r)(u=>{bl(t,u,i)},{scope:l});return}if(e==="key")return wh(t,r);if(t._x_inlineBindings&&t._x_inlineBindings[e]&&t._x_inlineBindings[e].extract)return;let a=re(t,r);o(()=>a(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),W(()=>ul(t,e,l,n))})),s(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Ml.inline=(t,{value:e,modifiers:n,expression:r})=>{e&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[e]={expression:r,extract:!1})};G("bind",Ml);function wh(t,e){t._x_keyExpression=e}Da(()=>`[${Wt("data")}]`);G("data",(t,{expression:e},{cleanup:n})=>{if(Sh(t))return;e=e===""?"{}":e;let r={};vi(r,t);let i={};Od(i,r);let o=ht(t,e,{scope:i});(o===void 0||o===!0)&&(o={}),vi(o,t);let s=zt(o);Wa(s);let a=En(t,s);s.init&&ht(t,s.init),n(()=>{s.destroy&&ht(t,s.destroy),a()})});Rr((t,e)=>{t._x_dataStack&&(e._x_dataStack=t._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function Sh(t){return Qe?Oi?!0:t.hasAttribute("data-has-alpine-state"):!1}G("show",(t,{modifiers:e,expression:n},{effect:r})=>{let i=re(t,n);t._x_doHide||(t._x_doHide=()=>{W(()=>{t.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{W(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let o=()=>{t._x_doHide(),t._x_isShown=!1},s=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(s),l=Ei(f=>f?s():o(),f=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,f,s,o):f?a():o()}),c,u=!0;r(()=>i(f=>{!u&&f===c||(e.includes("immediate")&&(f?a():o()),l(f),c=f,u=!1)}))});G("for",(t,{expression:e},{effect:n,cleanup:r})=>{let i=xh(e),o=re(t,i.items),s=re(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n(()=>Ch(t,i,o,s)),r(()=>{Object.values(t._x_lookup).forEach(a=>a.remove()),delete t._x_prevKeys,delete t._x_lookup})});function Ch(t,e,n,r){let i=s=>typeof s=="object"&&!Array.isArray(s),o=t;n(s=>{Eh(s)&&s>=0&&(s=Array.from(Array(s).keys(),d=>d+1)),s===void 0&&(s=[]);let a=t._x_lookup,l=t._x_prevKeys,c=[],u=[];if(i(s))s=Object.entries(s).map(([d,v])=>{let w=is(e,v,d,s);r(x=>{u.includes(x)&&Se("Duplicate key on x-for",t),u.push(x)},{scope:{index:d,...w}}),c.push(w)});else for(let d=0;d<s.length;d++){let v=is(e,s[d],d,s);r(w=>{u.includes(w)&&Se("Duplicate key on x-for",t),u.push(w)},{scope:{index:d,...v}}),c.push(v)}let f=[],h=[],m=[],g=[];for(let d=0;d<l.length;d++){let v=l[d];u.indexOf(v)===-1&&m.push(v)}l=l.filter(d=>!m.includes(d));let b="template";for(let d=0;d<u.length;d++){let v=u[d],w=l.indexOf(v);if(w===-1)l.splice(d,0,v),f.push([b,d]);else if(w!==d){let x=l.splice(d,1)[0],p=l.splice(w-1,1)[0];l.splice(d,0,p),l.splice(w,0,x),h.push([x,p])}else g.push(v);b=v}for(let d=0;d<m.length;d++){let v=m[d];a[v]._x_effects&&a[v]._x_effects.forEach(Ta),a[v].remove(),a[v]=null,delete a[v]}for(let d=0;d<h.length;d++){let[v,w]=h[d],x=a[v],p=a[w],E=document.createElement("div");W(()=>{p||Se('x-for ":key" is undefined or invalid',o,w,a),p.after(E),x.after(p),p._x_currentIfEl&&p.after(p._x_currentIfEl),E.before(x),x._x_currentIfEl&&x.after(x._x_currentIfEl),E.remove()}),p._x_refreshXForScope(c[u.indexOf(w)])}for(let d=0;d<f.length;d++){let[v,w]=f[d],x=v==="template"?o:a[v];x._x_currentIfEl&&(x=x._x_currentIfEl);let p=c[w],E=u[w],C=document.importNode(o.content,!0).firstElementChild,T=zt(p);En(C,T,o),C._x_refreshXForScope=B=>{Object.entries(B).forEach(([N,I])=>{T[N]=I})},W(()=>{x.after(C),St(()=>Ge(C))()}),typeof E=="object"&&Se("x-for key cannot be an object, it must be a string or an integer",o),a[E]=C}for(let d=0;d<g.length;d++)a[g[d]]._x_refreshXForScope(c[u.indexOf(g[d])]);o._x_prevKeys=u})}function xh(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(r);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(n,"").trim(),a=s.match(e);return a?(o.item=s.replace(e,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function is(t,e,n,r){let i={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=e[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=e[s]}):i[t.item]=e,t.index&&(i[t.index]=n),t.collection&&(i[t.collection]=r),i}function Eh(t){return!Array.isArray(t)&&!isNaN(t)}function Il(){}Il.inline=(t,{expression:e},{cleanup:n})=>{let r=Or(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,n(()=>delete r._x_refs[e])};G("ref",Il);G("if",(t,{expression:e},{effect:n,cleanup:r})=>{t.tagName.toLowerCase()!=="template"&&Se("x-if can only be used on a <template> tag",t);let i=re(t,e),o=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return En(a,{},t),W(()=>{t.after(a),St(()=>Ge(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{Xe(a,l=>{l._x_effects&&l._x_effects.forEach(Ta)}),a.remove(),delete t._x_currentIfEl},a},s=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};n(()=>i(a=>{a?o():s()})),r(()=>t._x_undoIf&&t._x_undoIf())});G("id",(t,{expression:e},{evaluate:n})=>{n(e).forEach(i=>fh(t,i))});Rr((t,e)=>{t._x_ids&&(e._x_ids=t._x_ids)});ro(el("@",tl(Wt("on:"))));G("on",St((t,{value:e,modifiers:n,expression:r},{cleanup:i})=>{let o=r?re(t,r):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let s=Pi(t,e,n,a=>{o(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));Lr("Collapse","collapse","collapse");Lr("Intersect","intersect","intersect");Lr("Focus","trap","focus");Lr("Mask","mask","mask");function Lr(t,e,n){G(e,r=>Se(`You can't use [x-${e}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}On.setEvaluator(Ja);On.setReactivityEngine({reactive:po,effect:Id,release:Fd,raw:j});var Ah=On,ge=Ah,ae="top",be="bottom",ve="right",le="left",go="auto",Tn=[ae,be,ve,le],Nt="start",gn="end",Oh="clippingParents",Fl="viewport",nn="popper",Th="reference",os=Tn.reduce(function(t,e){return t.concat([e+"-"+Nt,e+"-"+gn])},[]),$l=[].concat(Tn,[go]).reduce(function(t,e){return t.concat([e,e+"-"+Nt,e+"-"+gn])},[]),Rh="beforeRead",kh="read",Ph="afterRead",Bh="beforeMain",Lh="main",Dh="afterMain",Nh="beforeWrite",Mh="write",Ih="afterWrite",Fh=[Rh,kh,Ph,Bh,Lh,Dh,Nh,Mh,Ih];function Me(t){return t?(t.nodeName||"").toLowerCase():null}function he(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vt(t){var e=he(t).Element;return t instanceof e||t instanceof Element}function me(t){var e=he(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mo(t){if(typeof ShadowRoot>"u")return!1;var e=he(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function $h(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!me(o)||!Me(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function jh(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!me(i)||!Me(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const jl={name:"applyStyles",enabled:!0,phase:"write",fn:$h,effect:jh,requires:["computeStyles"]};function Ne(t){return t.split("-")[0]}var mt=Math.max,fr=Math.min,Mt=Math.round;function Bi(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ul(){return!/^((?!chrome|android).)*safari/i.test(Bi())}function It(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&me(t)&&(i=t.offsetWidth>0&&Mt(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Mt(r.height)/t.offsetHeight||1);var s=vt(t)?he(t):window,a=s.visualViewport,l=!Ul()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function yo(t){var e=It(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Hl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&mo(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function We(t){return he(t).getComputedStyle(t)}function Uh(t){return["table","td","th"].indexOf(Me(t))>=0}function et(t){return((vt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dr(t){return Me(t)==="html"?t:t.assignedSlot||t.parentNode||(mo(t)?t.host:null)||et(t)}function ss(t){return!me(t)||We(t).position==="fixed"?null:t.offsetParent}function Hh(t){var e=/firefox/i.test(Bi()),n=/Trident/i.test(Bi());if(n&&me(t)){var r=We(t);if(r.position==="fixed")return null}var i=Dr(t);for(mo(i)&&(i=i.host);me(i)&&["html","body"].indexOf(Me(i))<0;){var o=We(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Rn(t){for(var e=he(t),n=ss(t);n&&Uh(n)&&We(n).position==="static";)n=ss(n);return n&&(Me(n)==="html"||Me(n)==="body"&&We(n).position==="static")?e:n||Hh(t)||e}function bo(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ln(t,e,n){return mt(t,fr(e,n))}function zh(t,e,n){var r=ln(t,e,n);return r>n?n:r}function zl(){return{top:0,right:0,bottom:0,left:0}}function Gl(t){return Object.assign({},zl(),t)}function Wl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Gh=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Gl(typeof e!="number"?e:Wl(e,Tn))};function Wh(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ne(n.placement),l=bo(a),c=[le,ve].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=Gh(i.padding,n),h=yo(o),m=l==="y"?ae:le,g=l==="y"?be:ve,b=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],d=s[l]-n.rects.reference[l],v=Rn(o),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=b/2-d/2,p=f[m],E=w-h[u]-f[g],C=w/2-h[u]/2+x,T=ln(p,C,E),B=l;n.modifiersData[r]=(e={},e[B]=T,e.centerOffset=T-C,e)}}function qh(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Hl(e.elements.popper,i)&&(e.elements.arrow=i))}const Vh={name:"arrow",enabled:!0,phase:"main",fn:Wh,effect:qh,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ft(t){return t.split("-")[1]}var Kh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yh(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Mt(n*i)/i||0,y:Mt(r*i)/i||0}}function as(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,m=h===void 0?0:h,g=s.y,b=g===void 0?0:g,d=typeof u=="function"?u({x:m,y:b}):{x:m,y:b};m=d.x,b=d.y;var v=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),x=le,p=ae,E=window;if(c){var C=Rn(n),T="clientHeight",B="clientWidth";if(C===he(n)&&(C=et(n),We(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",B="scrollWidth")),C=C,i===ae||(i===le||i===ve)&&o===gn){p=be;var N=f&&C===E&&E.visualViewport?E.visualViewport.height:C[T];b-=N-r.height,b*=l?1:-1}if(i===le||(i===ae||i===be)&&o===gn){x=ve;var I=f&&C===E&&E.visualViewport?E.visualViewport.width:C[B];m-=I-r.width,m*=l?1:-1}}var H=Object.assign({position:a},c&&Kh),$=u===!0?Yh({x:m,y:b},he(n)):{x:m,y:b};if(m=$.x,b=$.y,l){var M;return Object.assign({},H,(M={},M[p]=w?"0":"",M[x]=v?"0":"",M.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",M))}return Object.assign({},H,(e={},e[p]=w?b+"px":"",e[x]=v?m+"px":"",e.transform="",e))}function Jh(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ne(e.placement),variation:Ft(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,as(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,as(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Xh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jh,data:{}};var Kn={passive:!0};function Qh(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=he(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Kn)}),a&&l.addEventListener("resize",n.update,Kn),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Kn)}),a&&l.removeEventListener("resize",n.update,Kn)}}const Zh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qh,data:{}};var ep={left:"right",right:"left",bottom:"top",top:"bottom"};function ir(t){return t.replace(/left|right|bottom|top/g,function(e){return ep[e]})}var tp={start:"end",end:"start"};function ls(t){return t.replace(/start|end/g,function(e){return tp[e]})}function vo(t){var e=he(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _o(t){return It(et(t)).left+vo(t).scrollLeft}function np(t,e){var n=he(t),r=et(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Ul();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+_o(t),y:l}}function rp(t){var e,n=et(t),r=vo(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=mt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=mt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+_o(t),l=-r.scrollTop;return We(i||n).direction==="rtl"&&(a+=mt(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function wo(t){var e=We(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ql(t){return["html","body","#document"].indexOf(Me(t))>=0?t.ownerDocument.body:me(t)&&wo(t)?t:ql(Dr(t))}function cn(t,e){var n;e===void 0&&(e=[]);var r=ql(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=he(r),s=i?[o].concat(o.visualViewport||[],wo(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(cn(Dr(s)))}function Li(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ip(t,e){var n=It(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cs(t,e,n){return e===Fl?Li(np(t,n)):vt(e)?ip(e,n):Li(rp(et(t)))}function op(t){var e=cn(Dr(t)),n=["absolute","fixed"].indexOf(We(t).position)>=0,r=n&&me(t)?Rn(t):t;return vt(r)?e.filter(function(i){return vt(i)&&Hl(i,r)&&Me(i)!=="body"}):[]}function sp(t,e,n,r){var i=e==="clippingParents"?op(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=cs(t,c,r);return l.top=mt(u.top,l.top),l.right=fr(u.right,l.right),l.bottom=fr(u.bottom,l.bottom),l.left=mt(u.left,l.left),l},cs(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Vl(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ne(r):null,o=r?Ft(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ae:l={x:s,y:e.y-n.height};break;case be:l={x:s,y:e.y+e.height};break;case ve:l={x:e.x+e.width,y:a};break;case le:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?bo(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Nt:l[c]=l[c]-(e[u]/2-n[u]/2);break;case gn:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function mn(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Oh:a,c=n.rootBoundary,u=c===void 0?Fl:c,f=n.elementContext,h=f===void 0?nn:f,m=n.altBoundary,g=m===void 0?!1:m,b=n.padding,d=b===void 0?0:b,v=Gl(typeof d!="number"?d:Wl(d,Tn)),w=h===nn?Th:nn,x=t.rects.popper,p=t.elements[g?w:h],E=sp(vt(p)?p:p.contextElement||et(t.elements.popper),l,u,s),C=It(t.elements.reference),T=Vl({reference:C,element:x,strategy:"absolute",placement:i}),B=Li(Object.assign({},x,T)),N=h===nn?B:C,I={top:E.top-N.top+v.top,bottom:N.bottom-E.bottom+v.bottom,left:E.left-N.left+v.left,right:N.right-E.right+v.right},H=t.modifiersData.offset;if(h===nn&&H){var $=H[i];Object.keys(I).forEach(function(M){var X=[ve,be].indexOf(M)>=0?1:-1,ce=[ae,be].indexOf(M)>=0?"y":"x";I[M]+=$[ce]*X})}return I}function ap(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?$l:l,u=Ft(r),f=u?a?os:os.filter(function(g){return Ft(g)===u}):Tn,h=f.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=f);var m=h.reduce(function(g,b){return g[b]=mn(t,{placement:b,boundary:i,rootBoundary:o,padding:s})[Ne(b)],g},{});return Object.keys(m).sort(function(g,b){return m[g]-m[b]})}function lp(t){if(Ne(t)===go)return[];var e=ir(t);return[ls(t),e,ls(e)]}function cp(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,b=n.allowedAutoPlacements,d=e.options.placement,v=Ne(d),w=v===d,x=l||(w||!g?[ir(d)]:lp(d)),p=[d].concat(x).reduce(function(Ie,we){return Ie.concat(Ne(we)===go?ap(e,{placement:we,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:b}):we)},[]),E=e.rects.reference,C=e.rects.popper,T=new Map,B=!0,N=p[0],I=0;I<p.length;I++){var H=p[I],$=Ne(H),M=Ft(H)===Nt,X=[ae,be].indexOf($)>=0,ce=X?"width":"height",Q=mn(e,{placement:H,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),Z=X?M?ve:le:M?be:ae;E[ce]>C[ce]&&(Z=ir(Z));var Y=ir(Z),Te=[];if(o&&Te.push(Q[$]<=0),a&&Te.push(Q[Z]<=0,Q[Y]<=0),Te.every(function(Ie){return Ie})){N=H,B=!1;break}T.set(H,Te)}if(B)for(var Re=g?3:1,tt=function(we){var Fe=p.find(function(xt){var $e=T.get(xt);if($e)return $e.slice(0,we).every(function(Et){return Et})});if(Fe)return N=Fe,"break"},ke=Re;ke>0;ke--){var nt=tt(ke);if(nt==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const up={name:"flip",enabled:!0,phase:"main",fn:cp,requiresIfExists:["offset"],data:{_skip:!1}};function us(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function fs(t){return[ae,ve,be,le].some(function(e){return t[e]>=0})}function fp(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=mn(e,{elementContext:"reference"}),a=mn(e,{altBoundary:!0}),l=us(s,r),c=us(a,i,o),u=fs(l),f=fs(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const dp={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fp};function hp(t,e,n){var r=Ne(t),i=[le,ae].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[le,ve].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function pp(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=$l.reduce(function(u,f){return u[f]=hp(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const gp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pp};function mp(t){var e=t.state,n=t.name;e.modifiersData[n]=Vl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const yp={name:"popperOffsets",enabled:!0,phase:"read",fn:mp,data:{}};function bp(t){return t==="x"?"y":"x"}function vp(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,m=h===void 0?!0:h,g=n.tetherOffset,b=g===void 0?0:g,d=mn(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=Ne(e.placement),w=Ft(e.placement),x=!w,p=bo(v),E=bp(p),C=e.modifiersData.popperOffsets,T=e.rects.reference,B=e.rects.popper,N=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(C){if(o){var M,X=p==="y"?ae:le,ce=p==="y"?be:ve,Q=p==="y"?"height":"width",Z=C[p],Y=Z+d[X],Te=Z-d[ce],Re=m?-B[Q]/2:0,tt=w===Nt?T[Q]:B[Q],ke=w===Nt?-B[Q]:-T[Q],nt=e.elements.arrow,Ie=m&&nt?yo(nt):{width:0,height:0},we=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zl(),Fe=we[X],xt=we[ce],$e=ln(0,T[Q],Ie[Q]),Et=x?T[Q]/2-Re-$e-Fe-I.mainAxis:tt-$e-Fe-I.mainAxis,qe=x?-T[Q]/2+Re+$e+xt+I.mainAxis:ke+$e+xt+I.mainAxis,At=e.elements.arrow&&Rn(e.elements.arrow),Bn=At?p==="y"?At.clientTop||0:At.clientLeft||0:0,Vt=(M=H==null?void 0:H[p])!=null?M:0,Ln=Z+Et-Vt-Bn,Dn=Z+qe-Vt,Kt=ln(m?fr(Y,Ln):Y,Z,m?mt(Te,Dn):Te);C[p]=Kt,$[p]=Kt-Z}if(a){var Yt,Nn=p==="x"?ae:le,Mn=p==="x"?be:ve,je=C[E],Ve=E==="y"?"height":"width",Jt=je+d[Nn],rt=je-d[Mn],Xt=[ae,le].indexOf(v)!==-1,In=(Yt=H==null?void 0:H[E])!=null?Yt:0,Fn=Xt?Jt:je-T[Ve]-B[Ve]-In+I.altAxis,$n=Xt?je+T[Ve]+B[Ve]-In-I.altAxis:rt,jn=m&&Xt?zh(Fn,je,$n):ln(m?Fn:Jt,je,m?$n:rt);C[E]=jn,$[E]=jn-je}e.modifiersData[r]=$}}const _p={name:"preventOverflow",enabled:!0,phase:"main",fn:vp,requiresIfExists:["offset"]};function wp(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Sp(t){return t===he(t)||!me(t)?vo(t):wp(t)}function Cp(t){var e=t.getBoundingClientRect(),n=Mt(e.width)/t.offsetWidth||1,r=Mt(e.height)/t.offsetHeight||1;return n!==1||r!==1}function xp(t,e,n){n===void 0&&(n=!1);var r=me(e),i=me(e)&&Cp(e),o=et(e),s=It(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Me(e)!=="body"||wo(o))&&(a=Sp(e)),me(e)?(l=It(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=_o(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ep(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Ap(t){var e=Ep(t);return Fh.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Op(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Tp(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ds={placement:"bottom",modifiers:[],strategy:"absolute"};function hs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?ds:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ds,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,m={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;b(),u.options=Object.assign({},o,u.options,w),u.scrollParents={reference:vt(a)?cn(a):a.contextElement?cn(a.contextElement):[],popper:cn(l)};var x=Ap(Tp([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(p){return p.enabled}),g(),m.update()},forceUpdate:function(){if(!h){var v=u.elements,w=v.reference,x=v.popper;if(hs(w,x)){u.rects={reference:xp(w,Rn(x),u.options.strategy==="fixed"),popper:yo(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var E=u.orderedModifiers[p],C=E.fn,T=E.options,B=T===void 0?{}:T,N=E.name;typeof C=="function"&&(u=C({state:u,options:B,name:N,instance:m})||u)}}}},update:Op(function(){return new Promise(function(d){m.forceUpdate(),d(u)})}),destroy:function(){b(),h=!0}};if(!hs(a,l))return m;m.setOptions(c).then(function(d){!h&&c.onFirstUpdate&&c.onFirstUpdate(d)});function g(){u.orderedModifiers.forEach(function(d){var v=d.name,w=d.options,x=w===void 0?{}:w,p=d.effect;if(typeof p=="function"){var E=p({state:u,name:v,instance:m,options:x}),C=function(){};f.push(E||C)}})}function b(){f.forEach(function(d){return d()}),f=[]}return m}}var kp=[Zh,yp,Xh,jl,gp,up,_p,Vh,dp],Pp=Rp({defaultModifiers:kp}),Bp="tippy-box",Kl="tippy-content",Lp="tippy-backdrop",Yl="tippy-arrow",Jl="tippy-svg-arrow",Je={passive:!0,capture:!0},Xl=function(){return document.body};function Jr(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function So(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Ql(t,e){return typeof t=="function"?t.apply(void 0,e):t}function ps(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Dp(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function Np(t){return t.split(/\s+/).filter(Boolean)}function st(t){return[].concat(t)}function gs(t,e){t.indexOf(e)===-1&&t.push(e)}function Mp(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ip(t){return t.split("-")[0]}function dr(t){return[].slice.call(t)}function ms(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function un(){return document.createElement("div")}function Nr(t){return["Element","Fragment"].some(function(e){return So(t,e)})}function Fp(t){return So(t,"NodeList")}function $p(t){return So(t,"MouseEvent")}function jp(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Up(t){return Nr(t)?[t]:Fp(t)?dr(t):Array.isArray(t)?t:dr(document.querySelectorAll(t))}function Xr(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function ys(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Hp(t){var e,n=st(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function zp(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,l=a.interactiveBorder,c=Ip(s.placement),u=s.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,m=c==="right"?u.left.x:0,g=c==="left"?u.right.x:0,b=o.top-r+f>l,d=r-o.bottom-h>l,v=o.left-n+m>l,w=n-o.right-g>l;return b||d||v||w})}function Qr(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function bs(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Be={isTouch:!1},vs=0;function Gp(){Be.isTouch||(Be.isTouch=!0,window.performance&&document.addEventListener("mousemove",Zl))}function Zl(){var t=performance.now();t-vs<20&&(Be.isTouch=!1,document.removeEventListener("mousemove",Zl)),vs=t}function Wp(){var t=document.activeElement;if(jp(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function qp(){document.addEventListener("touchstart",Gp,Je),window.addEventListener("blur",Wp)}var Vp=typeof window<"u"&&typeof document<"u",Kp=Vp?!!window.msCrypto:!1,Yp={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Jp={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fe=Object.assign({appendTo:Xl,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Yp,Jp),Xp=Object.keys(fe),Qp=function(e){var n=Object.keys(e);n.forEach(function(r){fe[r]=e[r]})};function ec(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=fe[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function Zp(t,e){var n=e?Object.keys(ec(Object.assign({},fe,{plugins:e}))):Xp,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function _s(t,e){var n=Object.assign({},e,{content:Ql(e.content,[t])},e.ignoreAttributes?{}:Zp(t,e.plugins));return n.aria=Object.assign({},fe.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var eg=function(){return"innerHTML"};function Di(t,e){t[eg()]=e}function ws(t){var e=un();return t===!0?e.className=Yl:(e.className=Jl,Nr(t)?e.appendChild(t):Di(e,t)),e}function Ss(t,e){Nr(e.content)?(Di(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Di(t,e.content):t.textContent=e.content)}function Ni(t){var e=t.firstElementChild,n=dr(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Kl)}),arrow:n.find(function(r){return r.classList.contains(Yl)||r.classList.contains(Jl)}),backdrop:n.find(function(r){return r.classList.contains(Lp)})}}function tc(t){var e=un(),n=un();n.className=Bp,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=un();r.className=Kl,r.setAttribute("data-state","hidden"),Ss(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=Ni(e),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Ss(c,t.props),s.arrow?u?o.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(ws(s.arrow))):l.appendChild(ws(s.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}tc.$$tippy=!0;var tg=1,Yn=[],Zr=[];function ng(t,e){var n=_s(t,Object.assign({},fe,ec(ms(e)))),r,i,o,s=!1,a=!1,l=!1,c=!1,u,f,h,m=[],g=ps(Ln,n.interactiveDebounce),b,d=tg++,v=null,w=Mp(n.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:d,reference:t,popper:un(),popperInstance:v,props:n,state:x,plugins:w,clearDelayTimeouts:Fn,setProps:$n,setContent:jn,show:jc,hide:Uc,hideWithInteractivity:Hc,enable:Xt,disable:In,unmount:zc,destroy:Gc};if(!n.render)return p;var E=n.render(p),C=E.popper,T=E.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+p.id,p.popper=C,t._tippy=p,C._tippy=p;var B=w.map(function(S){return S.fn(p)}),N=t.hasAttribute("aria-expanded");return At(),Re(),Z(),Y("onCreate",[p]),n.showOnCreate&&Jt(),C.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&X().addEventListener("mousemove",g)}),p;function I(){var S=p.props.touch;return Array.isArray(S)?S:[S,0]}function H(){return I()[0]==="hold"}function $(){var S;return!!((S=p.props.render)!=null&&S.$$tippy)}function M(){return b||t}function X(){var S=M().parentNode;return S?Hp(S):document}function ce(){return Ni(C)}function Q(S){return p.state.isMounted&&!p.state.isVisible||Be.isTouch||u&&u.type==="focus"?0:Jr(p.props.delay,S?0:1,fe.delay)}function Z(S){S===void 0&&(S=!1),C.style.pointerEvents=p.props.interactive&&!S?"":"none",C.style.zIndex=""+p.props.zIndex}function Y(S,O,R){if(R===void 0&&(R=!0),B.forEach(function(L){L[S]&&L[S].apply(L,O)}),R){var D;(D=p.props)[S].apply(D,O)}}function Te(){var S=p.props.aria;if(S.content){var O="aria-"+S.content,R=C.id,D=st(p.props.triggerTarget||t);D.forEach(function(L){var ee=L.getAttribute(O);if(p.state.isVisible)L.setAttribute(O,ee?ee+" "+R:R);else{var pe=ee&&ee.replace(R,"").trim();pe?L.setAttribute(O,pe):L.removeAttribute(O)}})}}function Re(){if(!(N||!p.props.aria.expanded)){var S=st(p.props.triggerTarget||t);S.forEach(function(O){p.props.interactive?O.setAttribute("aria-expanded",p.state.isVisible&&O===M()?"true":"false"):O.removeAttribute("aria-expanded")})}}function tt(){X().removeEventListener("mousemove",g),Yn=Yn.filter(function(S){return S!==g})}function ke(S){if(!(Be.isTouch&&(l||S.type==="mousedown"))){var O=S.composedPath&&S.composedPath()[0]||S.target;if(!(p.props.interactive&&bs(C,O))){if(st(p.props.triggerTarget||t).some(function(R){return bs(R,O)})){if(Be.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else Y("onClickOutside",[p,S]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||Fe())}}}function nt(){l=!0}function Ie(){l=!1}function we(){var S=X();S.addEventListener("mousedown",ke,!0),S.addEventListener("touchend",ke,Je),S.addEventListener("touchstart",Ie,Je),S.addEventListener("touchmove",nt,Je)}function Fe(){var S=X();S.removeEventListener("mousedown",ke,!0),S.removeEventListener("touchend",ke,Je),S.removeEventListener("touchstart",Ie,Je),S.removeEventListener("touchmove",nt,Je)}function xt(S,O){Et(S,function(){!p.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&O()})}function $e(S,O){Et(S,O)}function Et(S,O){var R=ce().box;function D(L){L.target===R&&(Qr(R,"remove",D),O())}if(S===0)return O();Qr(R,"remove",f),Qr(R,"add",D),f=D}function qe(S,O,R){R===void 0&&(R=!1);var D=st(p.props.triggerTarget||t);D.forEach(function(L){L.addEventListener(S,O,R),m.push({node:L,eventType:S,handler:O,options:R})})}function At(){H()&&(qe("touchstart",Vt,{passive:!0}),qe("touchend",Dn,{passive:!0})),Np(p.props.trigger).forEach(function(S){if(S!=="manual")switch(qe(S,Vt),S){case"mouseenter":qe("mouseleave",Dn);break;case"focus":qe(Kp?"focusout":"blur",Kt);break;case"focusin":qe("focusout",Kt);break}})}function Bn(){m.forEach(function(S){var O=S.node,R=S.eventType,D=S.handler,L=S.options;O.removeEventListener(R,D,L)}),m=[]}function Vt(S){var O,R=!1;if(!(!p.state.isEnabled||Yt(S)||a)){var D=((O=u)==null?void 0:O.type)==="focus";u=S,b=S.currentTarget,Re(),!p.state.isVisible&&$p(S)&&Yn.forEach(function(L){return L(S)}),S.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?R=!0:Jt(S),S.type==="click"&&(s=!R),R&&!D&&rt(S)}}function Ln(S){var O=S.target,R=M().contains(O)||C.contains(O);if(!(S.type==="mousemove"&&R)){var D=Ve().concat(C).map(function(L){var ee,pe=L._tippy,Ot=(ee=pe.popperInstance)==null?void 0:ee.state;return Ot?{popperRect:L.getBoundingClientRect(),popperState:Ot,props:n}:null}).filter(Boolean);zp(D,S)&&(tt(),rt(S))}}function Dn(S){var O=Yt(S)||p.props.trigger.indexOf("click")>=0&&s;if(!O){if(p.props.interactive){p.hideWithInteractivity(S);return}rt(S)}}function Kt(S){p.props.trigger.indexOf("focusin")<0&&S.target!==M()||p.props.interactive&&S.relatedTarget&&C.contains(S.relatedTarget)||rt(S)}function Yt(S){return Be.isTouch?H()!==S.type.indexOf("touch")>=0:!1}function Nn(){Mn();var S=p.props,O=S.popperOptions,R=S.placement,D=S.offset,L=S.getReferenceClientRect,ee=S.moveTransition,pe=$()?Ni(C).arrow:null,Ot=L?{getBoundingClientRect:L,contextElement:L.contextElement||M()}:t,Ro={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Un){var Tt=Un.state;if($()){var Wc=ce(),Ur=Wc.box;["placement","reference-hidden","escaped"].forEach(function(Hn){Hn==="placement"?Ur.setAttribute("data-placement",Tt.placement):Tt.attributes.popper["data-popper-"+Hn]?Ur.setAttribute("data-"+Hn,""):Ur.removeAttribute("data-"+Hn)}),Tt.attributes.popper={}}}},it=[{name:"offset",options:{offset:D}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ee}},Ro];$()&&pe&&it.push({name:"arrow",options:{element:pe,padding:3}}),it.push.apply(it,(O==null?void 0:O.modifiers)||[]),p.popperInstance=Pp(Ot,C,Object.assign({},O,{placement:R,onFirstUpdate:h,modifiers:it}))}function Mn(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function je(){var S=p.props.appendTo,O,R=M();p.props.interactive&&S===Xl||S==="parent"?O=R.parentNode:O=Ql(S,[R]),O.contains(C)||O.appendChild(C),p.state.isMounted=!0,Nn()}function Ve(){return dr(C.querySelectorAll("[data-tippy-root]"))}function Jt(S){p.clearDelayTimeouts(),S&&Y("onTrigger",[p,S]),we();var O=Q(!0),R=I(),D=R[0],L=R[1];Be.isTouch&&D==="hold"&&L&&(O=L),O?r=setTimeout(function(){p.show()},O):p.show()}function rt(S){if(p.clearDelayTimeouts(),Y("onUntrigger",[p,S]),!p.state.isVisible){Fe();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(S.type)>=0&&s)){var O=Q(!1);O?i=setTimeout(function(){p.state.isVisible&&p.hide()},O):o=requestAnimationFrame(function(){p.hide()})}}function Xt(){p.state.isEnabled=!0}function In(){p.hide(),p.state.isEnabled=!1}function Fn(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function $n(S){if(!p.state.isDestroyed){Y("onBeforeUpdate",[p,S]),Bn();var O=p.props,R=_s(t,Object.assign({},O,ms(S),{ignoreAttributes:!0}));p.props=R,At(),O.interactiveDebounce!==R.interactiveDebounce&&(tt(),g=ps(Ln,R.interactiveDebounce)),O.triggerTarget&&!R.triggerTarget?st(O.triggerTarget).forEach(function(D){D.removeAttribute("aria-expanded")}):R.triggerTarget&&t.removeAttribute("aria-expanded"),Re(),Z(),T&&T(O,R),p.popperInstance&&(Nn(),Ve().forEach(function(D){requestAnimationFrame(D._tippy.popperInstance.forceUpdate)})),Y("onAfterUpdate",[p,S])}}function jn(S){p.setProps({content:S})}function jc(){var S=p.state.isVisible,O=p.state.isDestroyed,R=!p.state.isEnabled,D=Be.isTouch&&!p.props.touch,L=Jr(p.props.duration,0,fe.duration);if(!(S||O||R||D)&&!M().hasAttribute("disabled")&&(Y("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,$()&&(C.style.visibility="visible"),Z(),we(),p.state.isMounted||(C.style.transition="none"),$()){var ee=ce(),pe=ee.box,Ot=ee.content;Xr([pe,Ot],0)}h=function(){var it;if(!(!p.state.isVisible||c)){if(c=!0,C.offsetHeight,C.style.transition=p.props.moveTransition,$()&&p.props.animation){var jr=ce(),Un=jr.box,Tt=jr.content;Xr([Un,Tt],L),ys([Un,Tt],"visible")}Te(),Re(),gs(Zr,p),(it=p.popperInstance)==null||it.forceUpdate(),Y("onMount",[p]),p.props.animation&&$()&&$e(L,function(){p.state.isShown=!0,Y("onShown",[p])})}},je()}}function Uc(){var S=!p.state.isVisible,O=p.state.isDestroyed,R=!p.state.isEnabled,D=Jr(p.props.duration,1,fe.duration);if(!(S||O||R)&&(Y("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,c=!1,s=!1,$()&&(C.style.visibility="hidden"),tt(),Fe(),Z(!0),$()){var L=ce(),ee=L.box,pe=L.content;p.props.animation&&(Xr([ee,pe],D),ys([ee,pe],"hidden"))}Te(),Re(),p.props.animation?$()&&xt(D,p.unmount):p.unmount()}}function Hc(S){X().addEventListener("mousemove",g),gs(Yn,g),g(S)}function zc(){p.state.isVisible&&p.hide(),p.state.isMounted&&(Mn(),Ve().forEach(function(S){S._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),Zr=Zr.filter(function(S){return S!==p}),p.state.isMounted=!1,Y("onHidden",[p]))}function Gc(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),Bn(),delete t._tippy,p.state.isDestroyed=!0,Y("onDestroy",[p]))}}function $t(t,e){e===void 0&&(e={});var n=fe.plugins.concat(e.plugins||[]);qp();var r=Object.assign({},e,{plugins:n}),i=Up(t),o=i.reduce(function(s,a){var l=a&&ng(a,r);return l&&s.push(l),s},[]);return Nr(t)?o[0]:o}$t.defaultProps=fe;$t.setDefaultProps=Qp;$t.currentInput=Be;Object.assign({},jl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});var rg={mouseover:"mouseenter",focusin:"focus",click:"click"};function ig(t,e){var n=[],r=[],i=!1,o=e.target,s=Dp(e,["target"]),a=Object.assign({},s,{trigger:"manual",touch:!1}),l=Object.assign({touch:fe.touch},s,{showOnCreate:!0}),c=$t(t,a),u=st(c);function f(d){if(!(!d.target||i)){var v=d.target.closest(o);if(v){var w=v.getAttribute("data-tippy-trigger")||e.trigger||fe.trigger;if(!v._tippy&&!(d.type==="touchstart"&&typeof l.touch=="boolean")&&!(d.type!=="touchstart"&&w.indexOf(rg[d.type])<0)){var x=$t(v,l);x&&(r=r.concat(x))}}}}function h(d,v,w,x){x===void 0&&(x=!1),d.addEventListener(v,w,x),n.push({node:d,eventType:v,handler:w,options:x})}function m(d){var v=d.reference;h(v,"touchstart",f,Je),h(v,"mouseover",f),h(v,"focusin",f),h(v,"click",f)}function g(){n.forEach(function(d){var v=d.node,w=d.eventType,x=d.handler,p=d.options;v.removeEventListener(w,x,p)}),n=[]}function b(d){var v=d.destroy,w=d.enable,x=d.disable;d.destroy=function(p){p===void 0&&(p=!0),p&&r.forEach(function(E){E.destroy()}),r=[],g(),v()},d.enable=function(){w(),r.forEach(function(p){return p.enable()}),i=!1},d.disable=function(){x(),r.forEach(function(p){return p.disable()}),i=!0},m(d)}return u.forEach(b),c}$t.setDefaultProps({render:tc});var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nc={exports:{}};/*! store2 - v2.14.3 - 2024-02-14
* Copyright (c) 2024 Nathan Bubna; Licensed MIT */(function(t){(function(e,n){var r={version:"2.14.3",areas:{},apis:{},nsdelim:".",inherit:function(o,s){for(var a in o)s.hasOwnProperty(a)||Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(o,a));return s},stringify:function(o,s){return o===void 0||typeof o=="function"?o+"":JSON.stringify(o,s||r.replace)},parse:function(o,s){try{return JSON.parse(o,s||r.revive)}catch{return o}},fn:function(o,s){r.storeAPI[o]=s;for(var a in r.apis)r.apis[a][o]=s},get:function(o,s){return o.getItem(s)},set:function(o,s,a){o.setItem(s,a)},remove:function(o,s){o.removeItem(s)},key:function(o,s){return o.key(s)},length:function(o){return o.length},clear:function(o){o.clear()},Store:function(o,s,a){var l=r.inherit(r.storeAPI,function(u,f,h){return arguments.length===0?l.getAll():typeof f=="function"?l.transact(u,f,h):f!==void 0?l.set(u,f,h):typeof u=="string"||typeof u=="number"?l.get(u):typeof u=="function"?l.each(u):u?l.setAll(u,f):l.clear()});l._id=o;try{var c="__store2_test";s.setItem(c,"ok"),l._area=s,s.removeItem(c)}catch{l._area=r.storage("fake")}return l._ns=a||"",r.areas[o]||(r.areas[o]=l._area),r.apis[l._ns+l._id]||(r.apis[l._ns+l._id]=l),l},storeAPI:{area:function(o,s){var a=this[o];return(!a||!a.area)&&(a=r.Store(o,s,this._ns),this[o]||(this[o]=a)),a},namespace:function(o,s,a){if(a=a||this._delim||r.nsdelim,!o)return this._ns?this._ns.substring(0,this._ns.length-a.length):"";var l=o,c=this[l];if((!c||!c.namespace)&&(c=r.Store(this._id,this._area,this._ns+l+a),c._delim=a,this[l]||(this[l]=c),!s))for(var u in r.areas)c.area(u,r.areas[u]);return c},isFake:function(o){return o?(this._real=this._area,this._area=r.storage("fake")):o===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(o){return this._area.has?this._area.has(this._in(o)):this._in(o)in this._area},size:function(){return this.keys().length},each:function(o,s){for(var a=0,l=r.length(this._area);a<l;a++){var c=this._out(r.key(this._area,a));if(c!==void 0&&o.call(this,c,this.get(c),s)===!1)break;l>r.length(this._area)&&(l--,a--)}return s||this},keys:function(o){return this.each(function(s,a,l){l.push(s)},o||[])},get:function(o,s){var a=r.get(this._area,this._in(o)),l;return typeof s=="function"&&(l=s,s=null),a!==null?r.parse(a,l):s??a},getAll:function(o){return this.each(function(s,a,l){l[s]=a},o||{})},transact:function(o,s,a){var l=this.get(o,a),c=s(l);return this.set(o,c===void 0?l:c),this},set:function(o,s,a){var l=this.get(o),c;return l!=null&&a===!1?s:(typeof a=="function"&&(c=a,a=void 0),r.set(this._area,this._in(o),r.stringify(s,c),a)||l)},setAll:function(o,s){var a,l;for(var c in o)l=o[c],this.set(c,l,s)!==l&&(a=!0);return a},add:function(o,s,a){var l=this.get(o);if(l instanceof Array)s=l.concat(s);else if(l!==null){var c=typeof l;if(c===typeof s&&c==="object"){for(var u in s)l[u]=s[u];s=l}else s=l+s}return r.set(this._area,this._in(o),r.stringify(s,a)),s},remove:function(o,s){var a=this.get(o,s);return r.remove(this._area,this._in(o)),a},clear:function(){return this._ns?this.each(function(o){r.remove(this._area,this._in(o))},1):r.clear(this._area),this},clearAll:function(){var o=this._area;for(var s in r.areas)r.areas.hasOwnProperty(s)&&(this._area=r.areas[s],this.clear());return this._area=o,this},_in:function(o){return typeof o!="string"&&(o=r.stringify(o)),this._ns?this._ns+o:o},_out:function(o){return this._ns?o&&o.indexOf(this._ns)===0?o.substring(this._ns.length):void 0:o}},storage:function(o){return r.inherit(r.storageAPI,{items:{},name:o})},storageAPI:{length:0,has:function(o){return this.items.hasOwnProperty(o)},key:function(o){var s=0;for(var a in this.items)if(this.has(a)&&o===s++)return a},setItem:function(o,s){this.has(o)||this.length++,this.items[o]=s},removeItem:function(o){this.has(o)&&(delete this.items[o],this.length--)},getItem:function(o){return this.has(o)?this.items[o]:null},clear:function(){for(var o in this.items)this.removeItem(o)}}},i=r.Store("local",function(){try{return localStorage}catch{}}());i.local=i,i._=r,i.area("session",function(){try{return sessionStorage}catch{}}()),i.area("page",r.storage("page")),typeof n=="function"&&n.amd!==void 0?n("store2",[],function(){return i}):t.exports?t.exports=i:(e.store&&(r.conflict=e.store),e.store=i)})(ei,ei&&ei.define)})(nc);var sg=nc.exports;const Le=og(sg),De={storageKeys:{menu:"braid-menu",darkMode:"braid-darkmode",ruler:{marks:"braid-ruler.marks",open:"braid-ruler.open"}}},ag={active:!1,loadedPattern:null,activePattern:null,menuOpen:!0,menuScrolled:!1,search:{term:"",filters:{open:!1,terms:{status:null}},open:!1},theme:{darkMode:window.BRAID.darkMode==="auto"?Le.get(De.storageKeys.darkMode,"auto"):window.BRAID.darkMode},ruler:{open:!1},canvas:{resizing:!1,width:0,widthOffset:0,resizeInputValue:0}};var fn="text/plain";function lg(){(console.warn||console.log).apply(console,arguments)}lg.bind("[clipboard-polyfill]");var Co=typeof window>"u"?void 0:window,cg=typeof globalThis>"u"?void 0:globalThis,Cs,xs,Es,As=(Es=(Cs=Co)==null?void 0:Cs.Promise)!=null?Es:(xs=cg)==null?void 0:xs.Promise;function ug(){if(!As)throw new Error("No `Promise` implementation available for `clipboard-polyfill`. Consider using: https://github.com/lgarron/clipboard-polyfill#flat-file-version-with-promise-included");return As}var Os=typeof navigator>"u"?void 0:navigator,ye=Os==null?void 0:Os.clipboard,Ts;(Ts=ye==null?void 0:ye.read)==null||Ts.bind(ye);var Rs;(Rs=ye==null?void 0:ye.readText)==null||Rs.bind(ye);var ks;(ks=ye==null?void 0:ye.write)==null||ks.bind(ye);var Ps,Bs=(Ps=ye==null?void 0:ye.writeText)==null?void 0:Ps.bind(ye),Ls;(Ls=Co)==null||Ls.ClipboardItem;var Mr=ug(),Rt=Co;function fg(){return typeof ClipboardEvent>"u"&&typeof(Rt==null?void 0:Rt.clipboardData)<"u"&&typeof(Rt==null?void 0:Rt.clipboardData.setData)<"u"}function dg(t){if(!Rt.clipboardData)return!1;var e=Rt.clipboardData.setData("Text",t);return e}function hg(t,e,n){t.success=!0;for(var r in e){var i=e[r],o=n.clipboardData;o.setData(r,i),r===fn&&o.getData(r)!==i&&(t.success=!1)}n.preventDefault()}function rc(t){var e={success:!1},n=hg.bind(this,e,t);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return e.success}function ic(t,e){oc(t);var n=rc(e);return sc(),n}function pg(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var n=ic(e,t);return document.body.removeChild(e),n}function gg(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var n=e;e.attachShadow&&(n=e.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=t,n.appendChild(r),document.body.appendChild(e),oc(r);var i=document.execCommand("copy");return sc(),document.body.removeChild(e),i}function oc(t){var e=document.getSelection();if(e){var n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}function sc(){var t=document.getSelection();t&&t.removeAllRanges()}function mg(t){var e=fn in t;if(fg()){if(!e)throw new Error("No `text/plain` value was specified.");if(dg(t[fn]))return!0;throw new Error("Copying failed, possibly because the user rejected it.")}return!!(rc(t)||navigator.userAgent.indexOf("Edge")>-1||ic(document.body,t)||pg(t)||gg(t[fn]))}Mr.resolve();Mr.resolve(!1);function yg(t){return new Mr((e,n)=>{try{e(t())}catch(r){n(r)}})}function bg(t){var e={};return e[fn]=t,e}function Ds(t){return Bs?Bs(t).catch(e=>{Ns(t)}):Ns(t)}function Ns(t){return yg(()=>Mr.resolve(vg(t)))}function vg(t){if(!mg(bg(t)))throw new Error("writeText() failed")}function Oe(){}const _g=!0;Oe.prototype.on=_g;Oe.prototype.group=console.group.bind(window.console);Oe.prototype.groupCollapsed=console.groupCollapsed.bind(window.console);Oe.prototype.groupEnd=console.groupEnd.bind(window.console);Oe.prototype.log=console.debug.bind(window.console);Oe.prototype.warn=console.warn.bind(window.console);Oe.prototype.error=console.error.bind(window.console);Oe.prototype.table=console.table.bind(window.console);Oe.prototype.listItem=(t,e)=>{console.log(` - %c${t}%c ${e?`(${e})`:""}`,"color: green","color: darkgrey")};Oe.prototype.mark=(t,e)=>{console.groupCollapsed(`Mark !! ${t}`),console.trace(),console.groupEnd(),e()};const yn=new Oe;class wg extends Event{constructor(e,n,r=void 0){super(e,{bubbles:!1,cancelable:!1,composed:!1}),n&&(this.detail=n),this.originalEvent=r}}class Sg{constructor(e,n){this.bus=e,this.event=n,this.handlers=[]}}class Cg{constructor(){this.listeners={}}bind(e,n){return Array.isArray(e)||(e=[e]),e.forEach(r=>{if(this.listeners[r]||(this.listeners[r]=new Sg(this,r)),this.listeners[r].handlers.findIndex(i=>i===n)!==-1)throw new Error(`Handler for event "${r}" is a duplicate of an existing handler.`);this.listeners[r].handlers.push(n)}),this}unbind(e,n=null){if(!this.listeners[e])throw new Error(`No listener exists for event ${e}.`);return n?this.listeners[e].handlers=this.listeners[e].handlers.filter(r=>r!==n):this.listeners[e].handlers=[],this.listeners[e].handlers.length||delete this.listeners[e],this}fire(e,n=null,r=void 0){if(yn.log(`🚌 EventBus - ${e} (firing ${this.listeners[e]?this.listeners[e].handlers.length:0} handler(s))`),!!this.listeners[e])return this.listeners[e].handlers.forEach(i=>{i(new wg(e,n,r))}),this}}const ze=new Cg;class xg{fire(e,n,r,i=!1){const o=r?new CustomEvent(n,{bubbles:i,detail:r}):new Event(n);e.dispatchEvent(o)}bind(e,n,r,i=!1){return e.addEventListener(n,r,i),this}unBind(e,n,r){return e.removeEventListener(n,r),this}on(e,n,r,i){return e.addEventListener(n,function(o){const s=o.target,a=s.closest(r);a&&i.apply(a,[o,a])}),this}}const Ir=new xg;class Eg{constructor(e,n={}){this.container=e,this.state={dragging:null,bounds:null,cols:{dragStartPos:null,startSize:null,currentSize:null},rows:{dragStartPos:null,startSize:null,currentSize:null}},this.callbacks={start:[],end:[]},this.types={rows:{dragMetric:"clientY",dragStyleProperty:"gridTemplateRows"},cols:{dragMetric:"clientX",dragStyleProperty:"gridTemplateColumns"}};const r=this.container.dataset;this.options={id:r.draggable,cols:{template:r.draggableTemplateCols??"",startSize:parseInt(r.draggableColsInitial??0,10),maxSize:parseInt(r.draggableColsMax??0,10),minSize:parseInt(r.draggableColsMin??0,10)},rows:{template:r.draggableTemplateRows??"",startSize:parseInt(r.draggableRowsInitial??0,10),maxSize:parseInt(r.draggableRowsMax??0,10),minSize:parseInt(r.draggableRowsMin??0,10)},sizeSnapTolerance:20,handleSize:parseInt(r.draggableHandleSize??0,10),handleSelector:"[data-draggable-handle]",...n},this.setState(),this.bindEvents(),this.initMutationObserver()}setState(){this.refreshBounds(),this.sizeContainer("cols"),this.sizeContainer("rows")}bindEvents(){Ir.on(this.container,"mousedown",`[data-draggable-handle='${this.options.id}']`,this.onStartDrag.bind(this)).on(this.container,"touchstart",`[data-draggable-handle='${this.options.id}']`,this.onStartDrag.bind(this)).bind(window,"mouseup",this.onEndDrag.bind(this)).bind(window,"touchend",this.onEndDrag.bind(this)).bind(window,"touchcancel",this.onEndDrag.bind(this)).bind(window,"mousemove",this.onDrag.bind(this)).bind(window,"touchmove",this.onDrag.bind(this)).bind(window,"resize",this.onResize.bind(this))}initMutationObserver(){new MutationObserver(this.onContainerMutate.bind(this)).observe(this.container,{attributes:!0})}start(e,n=null){return this.callbacks.start.push({fn:e,context:n}),this}end(e,n=null){return this.callbacks.end.push({fn:e,context:n}),this}onStartDrag(e,n){this.fireCallbacks("start",e);const r=n.dataset.draggableType;this.state.dragging=r,this.state[r].dragStartPos=e[this.types[r].dragMetric]}onDrag(e){let n;if(!this.state.dragging)return;const r=this.state.dragging;r==="rows"?n=e[this.types[r].dragMetric]-this.state[r].dragStartPos:n=this.state[r].dragStartPos-e[this.types[r].dragMetric],this.sizeContainer(r,this.state[r].startSize-n)}onEndDrag(e){if(!this.state.dragging)return;this.fireCallbacks("end",e);const n=this.state.dragging;this.state[n].startSize=this.state[n].currentSize,this.state.dragging=null}onResize(){this.refreshBounds(),this.sizeContainer("cols"),this.sizeContainer("rows")}onContainerMutate(e){this.state.dragging||e.filter(n=>n.type==="attributes").forEach(n=>{n.target.dataset.draggableTemplateCols&&this.setDraggableTemplates("cols",n.target.dataset.draggableTemplateCols),n.target.dataset.draggableTemplateRows&&this.setDraggableTemplates("rows",n.target.dataset.draggableTemplateRows)})}refreshBounds(){this.state.bounds=this.container.getBoundingClientRect();let e=this.state.cols.startSize??this.options.cols.startSize,n=this.state.rows.startSize??this.options.rows.startSize;e>this.state.bounds.width&&(e=this.state.bounds.width),n>this.state.bounds.height&&(n=this.state.bounds.height),this.state.cols.startSize=e,this.state.rows.startSize=n}setDraggableTemplates(e,n){if(n.includes("<value>")){if(n=n.split("<value>"),!n.length||n.length!=2)throw new Error("Template must contain a single <value> keyword")}else n=[n];this.options[e].template={valueIndex:n.findIndex(r=>r===""),data:n},this.sizeContainer(e)}sizeContainer(e,n){let r,i,o;if(!this.options[e].template||!this.options[e].template.data)return;n===void 0&&(n=this.state[e].startSize);const s=e==="cols"?"width":"height";i=this.options[e].maxSize!==0?this.options[e].maxSize:this.state.bounds[s],o=this.options[e].minSize!==0?this.options[e].minSize:this.options.handleSize,n<o+this.options.sizeSnapTolerance&&(n=o),n>i-this.options.sizeSnapTolerance&&(n=i),this.options[e].template.valueIndex>-1?r=this.options[e].template.data.reduce((a,l,c)=>c===this.options[e].template.valueIndex?a+`${n}px`:a+""+l,""):r=this.options[e].template.data[0],this.container.style[this.types[e].dragStyleProperty]=r,this.state[e].currentSize=n}fireCallbacks(e){const n=[...arguments];this.callbacks[e].forEach(r=>{r.fn.apply(r.context??this,n)})}}class Ag{constructor(){this._timers={},this._popCallbacks=[],Ir.bind(window,"popstate",this.onPopState.bind(this))}onPopState(e){this._timers.pop&&(window.clearTimeout(this._timers.pop),delete this._timers.pop),yn.log("⏳ History pop",e.target.location.href),this._timers.pop=window.setTimeout(()=>{this._popCallbacks.forEach(n=>{n.fn.apply(n.thisArg,[e.target.location,e])})},200)}push(e,n={}){yn.log("⏳ History push",e),window.history.pushState(n,"",e)}pop(e,n){this._popCallbacks.push({fn:e,thisArg:n})}}const Og=()=>({store:Alpine.store("braid"),media:{darkMode:window.matchMedia("(prefers-color-scheme: dark)")},get activePattern(){return this.store.activePattern&&this.patternMap?this.patternMap[this.store.activePattern]:{}},get loadedPattern(){return this.store.loadedPattern&&this.patternMap?this.patternMap[this.store.loadedPattern]:null},init(){this.patterns={},this.patternMap={"__braid.welcome":{label:"Welcome",url:`${location.protocol}//${location.host}/${BRAID.config.path}/`,frameUrl:`${location.protocol}//${location.host}/${BRAID.config.path}/full`}},this.config=Object.assign({theme:{color:"wheat"},response_sizes:{enabled:!1,sizes:[]}},BRAID.config??{}),this.history=new Ag,this.initStore(),this.setDarkMode(),this.getMenuData().then(()=>{this.loadFirstPattern(window.location)}),document.querySelectorAll("[data-draggable]").forEach(t=>{const e=t.dataset.draggable;this.draggables={[e]:new Eg(t).start(()=>{this.setCanvasInteractable(!1),this.$refs.patternCanvasOuter.style.height=null},this).end(()=>{this.setCanvasInteractable()},this)}}),this.initBinds(),this.storeCanvasWidth(),this.store.active=!0},initStore(){if(!this.$refs.patternCanvasOuter){this.store.canvas.widthOffset=0;return}this.store.canvas.widthOffset=this.$refs.patternCanvasOuter.offsetWidth-this.$refs.patternCanvasOuter.clientWidth},initBinds(){this.$watch("activePattern",()=>{!this.$refs.patternCanvasFrame||!this.activePattern||!this.activePattern.frameUrl||this.$nextTick(()=>{this.$refs.patternCanvasFrame.contentWindow&&this.$refs.patternCanvasFrame.contentWindow.location.replace(this.activePattern.frameUrl)})}),this.$watch("store.theme.darkMode",()=>{this.setUserDarkMode(this.store.theme.darkMode)}),this.media.darkMode.addEventListener("change",()=>{this.setDarkMode()}),this.history.pop(this.onHistoryPop.bind(this)),ze.bind("toolbar:button:reload-pattern",this.reloadPattern.bind(this)).bind("toolbar:button:open-new-window",this.openPatternInNewWindow.bind(this)).bind("toolbar:button:set-canvas-width",this.onSetCanvasWidth.bind(this)).bind("toolbar:button:copy-pattern-url",this.onCopyPatternUrl.bind(this)).bind("toolbar:submit-canvas-width",this.onSubmitCanvasWidth.bind(this)).bind("ruler:drag-mark-start",this.onRulerDragMark.bind(this)).bind("ruler:drag-mark-end",this.onRulerDragMark.bind(this)).bind("inlineform:pattern-info:fieldchange",this.onPatternInfoChange.bind(this)).bind("search:filters-state-change",t=>{this.setCanvasInteractable(!t.detail)}),Ir.on(document.body,"click","[data-clip]",this.onClip.bind(this))},onFrameLoaded(t){!t.detail||!t.detail.patternMapId||(this.store.loadedPattern=t.detail.patternMapId,yn.log("Pattern loaded",this.store.loadedPattern),this.$dispatch("patternloaded",{loadedPattern:this.loadedPattern}))},onFrameUnLoaded(t){!this.store.loadedPattern||!t.detail||!t.detail.patternMapId||(this.store.loadedPattern=null,this.$dispatch("patternunloaded",{unLoadedPattern:t.detail.patternMapId}))},onCanvasResize(){this.store.canvas.resizing&&window.clearTimeout(this.store.canvas.resizing),this.store.canvas.resizing=window.setTimeout(()=>{this.store.canvas.resizing=null},2e3),this.storeCanvasWidth()},onClip(t,e){const n=e.dataset.clip??"";n&&(Ds(n),this.highlightElement(e,"primary-600"))},onSetCanvasWidth(t){this.setCanvasWidth(t.detail)},onSubmitCanvasWidth(t){this.setCanvasWidth(t.originalEvent.currentTarget.value,!1),t.originalEvent.currentTarget.select()},onCopyPatternUrl(t){Ds(this.activePattern.url),this.highlightElement(t.originalEvent.currentTarget)},onRulerDragMark(t){if(t.type==="ruler:drag-mark-start")return this.setCanvasInteractable(!1);this.setCanvasInteractable()},onMenuScroll(t){this.store.menuScrolled=!!t.target.scrollTop},onPatternInfoChange(t){t.detail.field==="fields.status"&&this.getMenuData()},onHistoryPop(t){let e;(e=this.getPatternIdByPath(t))&&this.switchPattern(e,!1)},loadFirstPattern(t){let e;if(e=this.getPatternIdByPath(t,!0))return this.switchPattern(e,!1);this.switchPattern("__braid.welcome",!1)},createPatternMap(t){t.items.forEach(e=>{e.id&&(this.patternMap[e.id]={index:e.label.toLowerCase(),...e}),e.contexts&&e.contexts.forEach(n=>{n.contextLabel=n.label,n.label=e.label,this.patternMap[n.id]={index:`${e.label}${n.contextId}`.toLowerCase(),...n},delete this.patternMap[e.id].contexts}),e.items&&this.createPatternMap(e)})},switchPattern(t,e=!0){this.store.activePattern&&t===this.store.activePattern||(this.store.loadedPattern=null,this.patternMap[t]&&(this.store.activePattern=t,this.activePattern.label?document.title=`${BRAID.config.title} — ${this.activePattern.label}`:document.title=BRAID.config.title,e&&this.history.push(this.activePattern.url)))},reloadPattern(){this.$refs.patternCanvasFrame.contentWindow&&this.$refs.patternCanvasFrame.contentWindow.location.reload()},openPatternInNewWindow(){if(!this.activePattern)return!1;window.open(this.activePattern.frameUrl,"_blank")},setUserDarkMode(t){t==="auto"?Le.clear(De.storageKeys.darkMode):Le.set(De.storageKeys.darkMode,t),this.setDarkMode()},setDarkMode(){const t=this.store.theme.darkMode;t==="on"||t==="auto"&&this.media.darkMode.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setCanvasWidth(t=null,e=!0){if(t=parseInt(t,10),e&&(t===null||t===this.$refs.patternCanvasOuter.clientWidth)){this.$refs.patternCanvasOuter.style.width=null;return}this.$refs.patternCanvasOuter.style.width=t+this.store.canvas.widthOffset+"px",this.storeCanvasWidth()},setCanvasInteractable(t=!0){if(t){delete this.$refs.patternCanvasFrame.dataset.disabled,this.$refs.patternCanvasFrame.style.pointerEvents="auto";return}this.$refs.patternCanvasFrame.dataset.disabled="",this.$refs.patternCanvasFrame.style.pointerEvents="none"},storeCanvasWidth(){if(!this.$refs.patternCanvasOuter){this.store.canvas.width=0,this.store.canvas.resizeInputValue=0;return}this.store.canvas.width=this.$refs.patternCanvasOuter.clientWidth,this.store.canvas.resizeInputValue=this.store.canvas.width},getMenuData(){return U.get("/menu").then(t=>(this.patterns=t.data.patterns,this.createPatternMap(this.patterns),Le.transact(De.storageKeys.menu,e=>(e.id!==t.data.id&&(ze.fire("braid.menu-reset"),e.closed=[]),e.id=t.data.id,e),{id:null,closed:[]}),this.patterns))},getCanvasRangeClasses(t,e=null,n="",r=""){return e===null&&(e=t),this.store.canvas.width>=t&&this.store.canvas.width<=e?n:r},getCanvasResizeInputSize(){const t=this.store.canvas.resizeInputValue.toString().length;return t<=1?1:t-1},getPatternStatus(t){const e=this.patternMap[t]??null;return!e||!BRAID.config.statuses||!e.model||!e.model.status?null:BRAID.config.statuses.find(n=>n.id===e.model.status)},getPatternStatusColour(t){const e=this.getPatternStatus(t);return e?`background-color: ${e.color}`:""},getSearchResults(){const t=this.store.search.term.toLowerCase(),e=this.store.search.filters.terms;return Object.keys(this.patternMap).filter(n=>(this.patternMap[n].type==="file"||this.patternMap[n].type==="context"&&!this.patternMap[n].default)&&this.patternMap[n].label!==void 0&&this.patternMap[n].index.includes(t)&&(!e.status||e.status&&this.patternMap[n].model&&this.patternMap[n].model.status==e.status)).map(n=>({...this.patternMap[n]}))},getSearchLabel(t){return t.type==="context"?`${t.label} (${t.contextId})`:t.label},getPatternIdByPath(t){const e=`${window.location.protocol}//${window.location.host}${t.pathname}`;for(const n in this.patternMap)if(this.patternMap[n].url===e)return n;return null},getPatternSearchPath(t){let e="id";return t.type==="context"&&(e="patternId"),t[e].split(":").slice(0,-1).join(" / ")},highlightElement(t,e="primary-600"){t&&(t.classList.remove("ring-transparent"),t.classList.add(`ring-${e}`),t.classList.add("ring-2"),window.setTimeout(()=>{t.classList.remove(`ring-${e}`),t.classList.add("ring-transparent")},700))},toggleMenuItem(t){yn.log(t.target,this.$data)},toggleRuler(){this.store.ruler.open=!this.store.ruler.open}}),Tg="modulepreload",Rg=function(t,e){return new URL(t,e).href},Ms={},Is=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Rg(c,r),c in Ms)return;Ms[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!r)for(let g=s.length-1;g>=0;g--){const b=s[g];if(b.href===c&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Tg,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var Ce;(function(t){t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline"})(Ce||(Ce={}));var jt;(function(t){function e(u){return u.toString(2).padStart(32,"0")}t.toBinaryStr=e;function n(u){const f=t.getLanguageId(u),h=t.getTokenType(u),m=t.getFontStyle(u),g=t.getForeground(u),b=t.getBackground(u);console.log({languageId:f,tokenType:h,fontStyle:m,foreground:g,background:b})}t.print=n;function r(u){return(u&255)>>>0}t.getLanguageId=r;function i(u){return(u&768)>>>8}t.getTokenType=i;function o(u){return(u&1024)!==0}t.containsBalancedBrackets=o;function s(u){return(u&30720)>>>11}t.getFontStyle=s;function a(u){return(u&16744448)>>>15}t.getForeground=a;function l(u){return(u&4278190080)>>>24}t.getBackground=l;function c(u,f,h,m,g,b,d){let v=t.getLanguageId(u),w=t.getTokenType(u),x=t.containsBalancedBrackets(u)?1:0,p=t.getFontStyle(u),E=t.getForeground(u),C=t.getBackground(u);return f!==0&&(v=f),h!==8&&(w=h),m!==null&&(x=m?1:0),g!==-1&&(p=g),b!==0&&(E=b),d!==0&&(C=d),(v<<0|w<<8|x<<10|p<<11|E<<15|C<<24)>>>0}t.set=c})(jt||(jt={}));function hr(t,e){const n=[],r=kg(t);let i=r.next();for(;i!==null;){let l=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let c=s();if(n.push({matcher:c,priority:l}),i!==",")break;i=r.next()}return n;function o(){if(i==="-"){i=r.next();const l=o();return c=>!!l&&!l(c)}if(i==="("){i=r.next();const l=a();return i===")"&&(i=r.next()),l}if(Fs(i)){const l=[];do l.push(i),i=r.next();while(Fs(i));return c=>e(l,c)}return null}function s(){const l=[];let c=o();for(;c;)l.push(c),c=o();return u=>l.every(f=>f(u))}function a(){const l=[];let c=s();for(;c&&(l.push(c),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");c=s()}return u=>l.some(f=>f(u))}}function Fs(t){return!!t&&!!t.match(/[\w\.:]+/)}function kg(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function ac(t){typeof t.dispose=="function"&&t.dispose()}function Pg(t){return xo(t)}function xo(t){return Array.isArray(t)?Bg(t):typeof t=="object"?Lg(t):t}function Bg(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=xo(t[n]);return e}function Lg(t){let e={};for(let n in t)e[n]=xo(t[n]);return e}function lc(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function cc(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?cc(t.substring(0,t.length-1)):t.substr(~e+1)}let ti=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;class Jn{static hasCaptures(e){return e===null?!1:(ti.lastIndex=0,ti.test(e))}static replaceCaptures(e,n,r){return e.replace(ti,(i,o,s,a)=>{let l=r[parseInt(o||s,10)];if(l){let c=n.substring(l.start,l.end);for(;c[0]===".";)c=c.substring(1);switch(a){case"downcase":return c.toLowerCase();case"upcase":return c.toUpperCase();default:return c}}else return i})}}function uc(t,e){return t<e?-1:t>e?1:0}function fc(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let o=uc(t[i],e[i]);if(o!==0)return o}return 0}return n-r}function $s(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function dc(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}class hc{constructor(e){y(this,"fn");y(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const n=this.fn(e);return this.cache.set(e,n),n}}class bn{constructor(e){y(this,"scopeName");this.scopeName=e}toKey(){return this.scopeName}}class Dg{constructor(e,n){y(this,"scopeName");y(this,"ruleName");this.scopeName=e,this.ruleName=n}toKey(){return`${this.scopeName}#${this.ruleName}`}}class Ng{constructor(){y(this,"_references",[]);y(this,"_seenReferenceKeys",new Set);y(this,"visitedRule",new Set)}get references(){return this._references}add(e){const n=e.toKey();this._seenReferenceKeys.has(n)||(this._seenReferenceKeys.add(n),this._references.push(e))}}class Mg{constructor(e,n){y(this,"repo");y(this,"initialScopeName");y(this,"seenFullScopeRequests",new Set);y(this,"seenPartialScopeRequests",new Set);y(this,"Q");this.repo=e,this.initialScopeName=n,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new bn(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const n=new Ng;for(const r of e)Ig(r,this.initialScopeName,this.repo,n);for(const r of n.references)if(r instanceof bn){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}}function Ig(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const o=n.lookup(e);t instanceof bn?or({baseGrammar:o,selfGrammar:i},r):Mi(t.ruleName,{baseGrammar:o,selfGrammar:i,repository:i.repository},r);const s=n.injections(t.scopeName);if(s)for(const a of s)r.add(new bn(a))}function Mi(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];pr([r],e,n)}}function or(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&pr(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&pr(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function pr(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?lc({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&pr(r.patterns,{...e,repository:i},n);const o=r.include;if(!o)continue;const s=pc(o);switch(s.kind){case 0:or({...e,selfGrammar:e.baseGrammar},n);break;case 1:or(e,n);break;case 2:Mi(s.ruleName,{...e,repository:i},n);break;case 3:case 4:const a=s.scopeName===e.selfGrammar.scopeName?e.selfGrammar:s.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:i};s.kind===4?Mi(s.ruleName,l,n):or(l,n)}else s.kind===4?n.add(new Dg(s.scopeName,s.ruleName)):n.add(new bn(s.scopeName));break}}}class Fg{constructor(){y(this,"kind",0)}}class $g{constructor(){y(this,"kind",1)}}class jg{constructor(e){y(this,"ruleName");y(this,"kind",2);this.ruleName=e}}class Ug{constructor(e){y(this,"scopeName");y(this,"kind",3);this.scopeName=e}}class Hg{constructor(e,n){y(this,"scopeName");y(this,"ruleName");y(this,"kind",4);this.scopeName=e,this.ruleName=n}}function pc(t){if(t==="$base")return new Fg;if(t==="$self")return new $g;const e=t.indexOf("#");if(e===-1)return new Ug(t);if(e===0)return new jg(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new Hg(n,r)}}const zg=/\\(\d+)/,js=/\\(\d+)/g,Gg=-1,gc=-2;class kn{constructor(e,n,r,i){y(this,"$location");y(this,"id");y(this,"_nameIsCapturing");y(this,"_name");y(this,"_contentNameIsCapturing");y(this,"_contentName");this.$location=e,this.id=n,this._name=r||null,this._nameIsCapturing=Jn.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=Jn.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${cc(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,n){return!this._nameIsCapturing||this._name===null||e===null||n===null?this._name:Jn.replaceCaptures(this._name,e,n)}getContentName(e,n){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Jn.replaceCaptures(this._contentName,e,n)}}class Wg extends kn{constructor(n,r,i,o,s){super(n,r,i,o);y(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(n,r){throw new Error("Not supported!")}compile(n,r){throw new Error("Not supported!")}compileAG(n,r,i,o){throw new Error("Not supported!")}}class qg extends kn{constructor(n,r,i,o,s){super(n,r,i,null);y(this,"_match");y(this,"captures");y(this,"_cachedCompiledPatterns");this._match=new _t(o,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(n,r){r.push(this._match)}compile(n,r){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,r,i,o){return this._getCachedCompiledPatterns(n).compileAG(n,i,o)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new vn,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}class Us extends kn{constructor(n,r,i,o,s){super(n,r,i,o);y(this,"hasMissingPatterns");y(this,"patterns");y(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(n,r){for(const i of this.patterns)n.getRule(i).collectPatterns(n,r)}compile(n,r){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,r,i,o){return this._getCachedCompiledPatterns(n).compileAG(n,i,o)}_getCachedCompiledPatterns(n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new vn,this.collectPatterns(n,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}class Ii extends kn{constructor(n,r,i,o,s,a,l,c,u,f){super(n,r,i,o);y(this,"_begin");y(this,"beginCaptures");y(this,"_end");y(this,"endHasBackReferences");y(this,"endCaptures");y(this,"applyEndPatternLast");y(this,"hasMissingPatterns");y(this,"patterns");y(this,"_cachedCompiledPatterns");this._begin=new _t(s,this.id),this.beginCaptures=a,this._end=new _t(l||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=u||!1,this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(n,r){return this._end.resolveBackReferences(n,r)}collectPatterns(n,r){r.push(this._begin)}compile(n,r){return this._getCachedCompiledPatterns(n,r).compile(n)}compileAG(n,r,i,o){return this._getCachedCompiledPatterns(n,r).compileAG(n,i,o)}_getCachedCompiledPatterns(n,r){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new vn;for(const i of this.patterns)n.getRule(i).collectPatterns(n,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,r):this._cachedCompiledPatterns.setSource(0,r)),this._cachedCompiledPatterns}}class gr extends kn{constructor(n,r,i,o,s,a,l,c,u){super(n,r,i,o);y(this,"_begin");y(this,"beginCaptures");y(this,"whileCaptures");y(this,"_while");y(this,"whileHasBackReferences");y(this,"hasMissingPatterns");y(this,"patterns");y(this,"_cachedCompiledPatterns");y(this,"_cachedCompiledWhilePatterns");this._begin=new _t(s,this.id),this.beginCaptures=a,this.whileCaptures=c,this._while=new _t(l,gc),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(n,r){return this._while.resolveBackReferences(n,r)}collectPatterns(n,r){r.push(this._begin)}compile(n,r){return this._getCachedCompiledPatterns(n).compile(n)}compileAG(n,r,i,o){return this._getCachedCompiledPatterns(n).compileAG(n,i,o)}_getCachedCompiledPatterns(n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new vn;for(const r of this.patterns)n.getRule(r).collectPatterns(n,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(n,r){return this._getCachedCompiledWhilePatterns(n,r).compile(n)}compileWhileAG(n,r,i,o){return this._getCachedCompiledWhilePatterns(n,r).compileAG(n,i,o)}_getCachedCompiledWhilePatterns(n,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new vn,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r||"￿"),this._cachedCompiledWhilePatterns}}class V{static createCaptureRule(e,n,r,i,o){return e.registerRule(s=>new Wg(n,s,r,i,o))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new qg(e.$vscodeTextmateLocation,e.id,e.name,e.match,V._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=lc({},r,e.repository));let o=e.patterns;return typeof o>"u"&&e.include&&(o=[{include:e.include}]),new Us(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,V._compilePatterns(o,n,r))}return e.while?new gr(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,V._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,V._compileCaptures(e.whileCaptures||e.captures,n,r),V._compilePatterns(e.patterns,n,r)):new Ii(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,V._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,V._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,V._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let o=0;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const a=parseInt(s,10);a>o&&(o=a)}for(let s=0;s<=o;s++)i[s]=null;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const a=parseInt(s,10);let l=0;e[s].patterns&&(l=V.getCompiledRuleId(e[s],n,r)),i[a]=V.createCaptureRule(n,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,l)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let o=0,s=e.length;o<s;o++){const a=e[o];let l=-1;if(a.include){const c=pc(a.include);switch(c.kind){case 0:case 1:l=V.getCompiledRuleId(r[a.include],n,r);break;case 2:let u=r[c.ruleName];u&&(l=V.getCompiledRuleId(u,n,r));break;case 3:case 4:const f=c.scopeName,h=c.kind===4?c.ruleName:null,m=n.getExternalGrammar(f,r);if(m)if(h){let g=m.repository[h];g&&(l=V.getCompiledRuleId(g,n,m.repository))}else l=V.getCompiledRuleId(m.repository.$self,n,m.repository);break}}else l=V.getCompiledRuleId(a,n,r);if(l!==-1){const c=n.getRule(l);let u=!1;if((c instanceof Us||c instanceof Ii||c instanceof gr)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;i.push(l)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}}class _t{constructor(e,n){y(this,"source");y(this,"ruleId");y(this,"hasAnchor");y(this,"hasBackReferences");y(this,"_anchorCache");if(e){const r=e.length;let i=0,o=[],s=!1;for(let a=0;a<r;a++)if(e.charAt(a)==="\\"&&a+1<r){const c=e.charAt(a+1);c==="z"?(o.push(e.substring(i,a)),o.push("$(?!\\n)(?<!\\n)"),i=a+2):(c==="A"||c==="G")&&(s=!0),a++}this.hasAnchor=s,i===0?this.source=e:(o.push(e.substring(i,r)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,this.hasBackReferences=zg.test(this.source)}clone(){return new _t(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){let r=n.map(i=>e.substring(i.start,i.end));return js.lastIndex=0,this.source.replace(js,(i,o)=>dc(r[parseInt(o,10)]||""))}_buildAnchorCache(){let e=[],n=[],r=[],i=[],o,s,a,l;for(o=0,s=this.source.length;o<s;o++)a=this.source.charAt(o),e[o]=a,n[o]=a,r[o]=a,i[o]=a,a==="\\"&&o+1<s&&(l=this.source.charAt(o+1),l==="A"?(e[o+1]="￿",n[o+1]="￿",r[o+1]="A",i[o+1]="A"):l==="G"?(e[o+1]="￿",n[o+1]="G",r[o+1]="￿",i[o+1]="G"):(e[o+1]=l,n[o+1]=l,r[o+1]=l,i[o+1]=l),o++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}}class vn{constructor(){y(this,"_items");y(this,"_hasAnchors");y(this,"_cached");y(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,n){this._items[e].source!==n&&(this._disposeCaches(),this._items[e].setSource(n))}compile(e){if(!this._cached){let n=this._items.map(r=>r.source);this._cached=new Hs(e,n,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,n,r){return this._hasAnchors?n?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,n,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,n,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,n,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,n,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,n,r){let i=this._items.map(o=>o.resolveAnchors(n,r));return new Hs(e,i,this._items.map(o=>o.ruleId))}}class Hs{constructor(e,n,r){y(this,"regExps");y(this,"rules");y(this,"scanner");this.regExps=n,this.rules=r,this.scanner=e.createOnigScanner(n)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let n=0,r=this.rules.length;n<r;n++)e.push("   - "+this.rules[n]+": "+this.regExps[n]);return e.join(`
`)}findNextMatchSync(e,n,r){const i=this.scanner.findNextMatchSync(e,n,r);return i?{ruleId:this.rules[i.index],captureIndices:i.captureIndices}:null}}class mr{constructor(e,n,r){y(this,"_colorMap");y(this,"_defaults");y(this,"_root");y(this,"_cachedMatchRoot",new hc(e=>this._root.match(e)));this._colorMap=e,this._defaults=n,this._root=r}static createFromRawTheme(e,n){return this.createFromParsedTheme(Yg(e),n)}static createFromParsedTheme(e,n){return Xg(e,n)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const n=e.scopeName,i=this._cachedMatchRoot.get(n).find(o=>Vg(e.parent,o.parentScopes));return i?new mc(i.fontStyle,i.foreground,i.background):null}}class yt{constructor(e,n){y(this,"parent");y(this,"scopeName");this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new yt(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new yt(n,e[r]);return n}push(e){return new yt(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}}function Vg(t,e){if(e===null)return!0;let n=0,r=e[n];for(;t;){if(Kg(t.scopeName,r)){if(n++,n===e.length)return!0;r=e[n]}t=t.parent}return!1}function Kg(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}class mc{constructor(e,n,r){y(this,"fontStyle");y(this,"foregroundId");y(this,"backgroundId");this.fontStyle=e,this.foregroundId=n,this.backgroundId=r}}function Yg(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];if(!s.settings)continue;let a;if(typeof s.scope=="string"){let f=s.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),a=f.split(",")}else Array.isArray(s.scope)?a=s.scope:a=[""];let l=-1;if(typeof s.settings.fontStyle=="string"){l=0;let f=s.settings.fontStyle.split(" ");for(let h=0,m=f.length;h<m;h++)switch(f[h]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof s.settings.foreground=="string"&&$s(s.settings.foreground)&&(c=s.settings.foreground);let u=null;typeof s.settings.background=="string"&&$s(s.settings.background)&&(u=s.settings.background);for(let f=0,h=a.length;f<h;f++){let g=a[f].trim().split(" "),b=g[g.length-1],d=null;g.length>1&&(d=g.slice(0,g.length-1),d.reverse()),n[r++]=new Jg(b,d,i,l,c,u)}}return n}class Jg{constructor(e,n,r,i,o,s){y(this,"scope");y(this,"parentScopes");y(this,"index");y(this,"fontStyle");y(this,"foreground");y(this,"background");this.scope=e,this.parentScopes=n,this.index=r,this.fontStyle=i,this.foreground=o,this.background=s}}function Xg(t,e){t.sort((l,c)=>{let u=uc(l.scope,c.scope);return u!==0||(u=fc(l.parentScopes,c.parentScopes),u!==0)?u:l.index-c.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(i=l.background)}let o=new Qg(e),s=new mc(n,o.getId(r),o.getId(i)),a=new dn(new _n(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let u=t[l];a.insert(0,u.scope,u.parentScopes,u.fontStyle,o.getId(u.foreground),o.getId(u.background))}return new mr(o,s,a)}class Qg{constructor(e){y(this,"_isFrozen");y(this,"_lastColorId");y(this,"_id2color");y(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let n=0,r=e.length;n<r;n++)this._color2id[e[n]]=n,this._id2color[n]=e[n]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let n=this._color2id[e];if(n)return n;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return n=++this._lastColorId,this._color2id[e]=n,this._id2color[n]=e,n}getColorMap(){return this._id2color.slice(0)}}class _n{constructor(e,n,r,i,o){y(this,"scopeDepth");y(this,"parentScopes");y(this,"fontStyle");y(this,"foreground");y(this,"background");this.scopeDepth=e,this.parentScopes=n,this.fontStyle=r,this.foreground=i,this.background=o}clone(){return new _n(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}}class dn{constructor(e,n=[],r={}){y(this,"_mainRule");y(this,"_children");y(this,"_rulesWithParentScopes");this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}static _sortBySpecificity(e){return e.length===1||e.sort(this._cmpBySpecificity),e}static _cmpBySpecificity(e,n){if(e.scopeDepth===n.scopeDepth){const r=e.parentScopes,i=n.parentScopes;let o=r===null?0:r.length,s=i===null?0:i.length;if(o===s)for(let a=0;a<o;a++){const l=r[a].length,c=i[a].length;if(l!==c)return c-l}return s-o}return n.scopeDepth-e.scopeDepth}match(e){if(e==="")return dn._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let n=e.indexOf("."),r,i;return n===-1?(r=e,i=""):(r=e.substring(0,n),i=e.substring(n+1)),this._children.hasOwnProperty(r)?this._children[r].match(i):dn._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(e,n,r,i,o,s){if(n===""){this._doInsertHere(e,r,i,o,s);return}let a=n.indexOf("."),l,c;a===-1?(l=n,c=""):(l=n.substring(0,a),c=n.substring(a+1));let u;this._children.hasOwnProperty(l)?u=this._children[l]:(u=new dn(this._mainRule.clone(),_n.cloneArr(this._rulesWithParentScopes)),this._children[l]=u),u.insert(e+1,c,r,i,o,s)}_doInsertHere(e,n,r,i,o){if(n===null){this._mainRule.acceptOverwrite(e,r,i,o);return}for(let s=0,a=this._rulesWithParentScopes.length;s<a;s++){let l=this._rulesWithParentScopes[s];if(fc(l.parentScopes,n)===0){l.acceptOverwrite(e,r,i,o);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),o===0&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new _n(e,n,r,i,o))}}class ni{constructor(e,n){y(this,"languageId");y(this,"tokenType");this.languageId=e,this.tokenType=n}}const kt=class kt{constructor(e,n){y(this,"_defaultAttributes");y(this,"_embeddedLanguagesMatcher");y(this,"_getBasicScopeAttributes",new hc(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new ni(n,r)}));this._defaultAttributes=new ni(e,8),this._embeddedLanguagesMatcher=new Zg(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?kt._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(kt.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}};y(kt,"_NULL_SCOPE_METADATA",new ni(0,0)),y(kt,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/);let Fi=kt;class Zg{constructor(e){y(this,"values");y(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const n=e.map(([r,i])=>dc(r));n.sort(),n.reverse(),this.scopesRegExp=new RegExp(`^((${n.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const n=e.match(this.scopesRegExp);if(n)return this.values.get(n[1])}}class zs{constructor(e,n){y(this,"stack");y(this,"stoppedEarly");this.stack=e,this.stoppedEarly=n}}function yc(t,e,n,r,i,o,s,a){const l=e.content.length;let c=!1,u=-1;if(s){const m=em(t,e,n,r,i,o);i=m.stack,r=m.linePos,n=m.isFirstLine,u=m.anchorPosition}const f=Date.now();for(;!c;){if(a!==0&&Date.now()-f>a)return new zs(i,!0);h()}return new zs(i,!1);function h(){const m=tm(t,e,n,r,i,u);if(!m){o.produce(i,l),c=!0;return}const g=m.captureIndices,b=m.matchedRuleId,d=g&&g.length>0?g[0].end>r:!1;if(b===Gg){const v=i.getRule(t);o.produce(i,g[0].start),i=i.withContentNameScopesList(i.nameScopesList),on(t,e,n,i,o,v.endCaptures,g),o.produce(i,g[0].end);const w=i;if(i=i.parent,u=w.getAnchorPos(),!d&&w.getEnterPos()===r){i=w,o.produce(i,l),c=!0;return}}else{const v=t.getRule(b);o.produce(i,g[0].start);const w=i,x=v.getName(e.content,g),p=i.contentNameScopesList.pushAttributed(x,t);if(i=i.push(b,r,u,g[0].end===l,null,p,p),v instanceof Ii){const E=v;on(t,e,n,i,o,E.beginCaptures,g),o.produce(i,g[0].end),u=g[0].end;const C=E.getContentName(e.content,g),T=p.pushAttributed(C,t);if(i=i.withContentNameScopesList(T),E.endHasBackReferences&&(i=i.withEndRule(E.getEndWithResolvedBackReferences(e.content,g))),!d&&w.hasSameRuleAs(i)){i=i.pop(),o.produce(i,l),c=!0;return}}else if(v instanceof gr){const E=v;on(t,e,n,i,o,E.beginCaptures,g),o.produce(i,g[0].end),u=g[0].end;const C=E.getContentName(e.content,g),T=p.pushAttributed(C,t);if(i=i.withContentNameScopesList(T),E.whileHasBackReferences&&(i=i.withEndRule(E.getWhileWithResolvedBackReferences(e.content,g))),!d&&w.hasSameRuleAs(i)){i=i.pop(),o.produce(i,l),c=!0;return}}else if(on(t,e,n,i,o,v.captures,g),o.produce(i,g[0].end),i=i.pop(),!d){i=i.safePop(),o.produce(i,l),c=!0;return}}g[0].end>r&&(r=g[0].end,n=!1)}}function em(t,e,n,r,i,o){let s=i.beginRuleCapturedEOL?0:-1;const a=[];for(let l=i;l;l=l.pop()){const c=l.getRule(t);c instanceof gr&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:u}=im(l.rule,t,l.stack.endRule,n,r===s),f=c.findNextMatchSync(e,r,u);if(f){if(f.ruleId!==gc){i=l.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(o.produce(l.stack,f.captureIndices[0].start),on(t,e,n,l.stack,o,l.rule.whileCaptures,f.captureIndices),o.produce(l.stack,f.captureIndices[0].end),s=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=l.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:s,isFirstLine:n}}function tm(t,e,n,r,i,o){const s=nm(t,e,n,r,i,o),a=t.getInjections();if(a.length===0)return s;const l=rm(a,t,e,n,r,i,o);if(!l)return s;if(!s)return l;const c=s.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:s}function nm(t,e,n,r,i,o){const s=i.getRule(t),{ruleScanner:a,findOptions:l}=bc(s,t,i.endRule,n,r===o),c=a.findNextMatchSync(e,r,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function rm(t,e,n,r,i,o,s){let a=Number.MAX_VALUE,l=null,c,u=0;const f=o.contentNameScopesList.getScopeNames();for(let h=0,m=t.length;h<m;h++){const g=t[h];if(!g.matcher(f))continue;const b=e.getRule(g.ruleId),{ruleScanner:d,findOptions:v}=bc(b,e,null,r,i===s),w=d.findNextMatchSync(n,i,v);if(!w)continue;const x=w.captureIndices[0].start;if(!(x>=a)&&(a=x,l=w.captureIndices,c=w.ruleId,u=g.priority,a===i))break}return l?{priorityMatch:u===-1,captureIndices:l,matchedRuleId:c}:null}function bc(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function im(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function on(t,e,n,r,i,o,s){if(o.length===0)return;const a=e.content,l=Math.min(o.length,s.length),c=[],u=s[0].end;for(let f=0;f<l;f++){const h=o[f];if(h===null)continue;const m=s[f];if(m.length===0)continue;if(m.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=m.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,m.start):i.produce(r,m.start),h.retokenizeCapturedWithRuleId){const b=h.getName(a,s),d=r.contentNameScopesList.pushAttributed(b,t),v=h.getContentName(a,s),w=d.pushAttributed(v,t),x=r.push(h.retokenizeCapturedWithRuleId,m.start,-1,!1,null,d,w),p=t.createOnigString(a.substring(0,m.end));yc(t,p,n&&m.start===0,m.start,x,i,!1,0),ac(p);continue}const g=h.getName(a,s);if(g!==null){const d=(c.length>0?c[c.length-1].scopes:r.contentNameScopesList).pushAttributed(g,t);c.push(new om(d,m.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}class om{constructor(e,n){y(this,"scopes");y(this,"endPos");this.scopes=e,this.endPos=n}}function sm(t,e,n,r,i,o,s,a){return new lm(t,e,n,r,i,o,s,a)}function Gs(t,e,n,r,i){const o=hr(e,yr),s=V.getCompiledRuleId(n,r,i.repository);for(const a of o)t.push({debugSelector:e,matcher:a.matcher,ruleId:s,grammar:i,priority:a.priority})}function yr(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(am(e[i],r))return n=i+1,!0;return!1})}function am(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}class lm{constructor(e,n,r,i,o,s,a,l){y(this,"_rootScopeName");y(this,"balancedBracketSelectors");y(this,"_onigLib");y(this,"_rootId");y(this,"_lastRuleId");y(this,"_ruleId2desc");y(this,"_includedGrammars");y(this,"_grammarRepository");y(this,"_grammar");y(this,"_injections");y(this,"_basicScopeAttributesProvider");y(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=l,this._basicScopeAttributesProvider=new Fi(r,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=Ws(n,null),this._injections=null,this._tokenTypeMatchers=[],o)for(const c of Object.keys(o)){const u=hr(c,yr);for(const f of u)this._tokenTypeMatchers.push({matcher:f.matcher,type:o[c]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:o=>o===this._rootScopeName?this._grammar:this.getExternalGrammar(o),injections:o=>this._grammarRepository.injections(o)},n=[],r=this._rootScopeName,i=e.lookup(r);if(i){const o=i.injections;if(o)for(let a in o)Gs(n,a,o[a],this,i);const s=this._grammarRepository.injections(r);s&&s.forEach(a=>{const l=this.getExternalGrammar(a);if(l){const c=l.injectionSelector;c&&Gs(n,c,l,this,l)}})}return n.sort((o,s)=>o.priority-s.priority),n}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const n=++this._lastRuleId,r=e(n);return this._ruleId2desc[n]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,n){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Ws(r,n&&n.$base),this._includedGrammars[e]}}tokenizeLine(e,n,r=0){const i=this._tokenize(e,n,!1,r);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}tokenizeLine2(e,n,r=0){const i=this._tokenize(e,n,!0,r);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}_tokenize(e,n,r,i){this._rootId===-1&&(this._rootId=V.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let o;if(!n||n===wn.NULL){o=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),f=this.themeProvider.getDefaults(),h=jt.set(0,u.languageId,u.tokenType,null,f.fontStyle,f.foregroundId,f.backgroundId),m=this.getRule(this._rootId).getName(null,null);let g;m?g=te.createRootAndLookUpScopeName(m,h,this):g=te.createRoot("unknown",h),n=new wn(null,this._rootId,-1,-1,!1,null,g,g)}else o=!1,n.reset();e=e+`
`;const s=this.createOnigString(e),a=s.content.length,l=new um(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),c=yc(this,s,o,0,n,l,!0,i);return ac(s),{lineLength:a,lineTokens:l,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}}function Ws(t,e){return t=Pg(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}class te{constructor(e,n,r){y(this,"parent");y(this,"scopePath");y(this,"tokenAttributes");this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=(e==null?void 0:e.scopePath)??null;for(const o of n)i=yt.push(i,o.scopeNames),r=new te(r,i,o.encodedTokenAttributes);return r}static createRoot(e,n){return new te(null,new yt(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),o=new yt(null,e),s=r.themeProvider.themeMatch(o),a=te.mergeAttributes(n,i,s);return new te(null,o,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return te.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,o=0,s=0;return r!==null&&(i=r.fontStyle,o=r.foregroundId,s=r.backgroundId),jt.set(e,n.languageId,n.tokenType,null,i,o,s)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return te._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const o of r)i=te._pushAttributed(i,o,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),o=e.scopePath.push(n),s=r.themeProvider.themeMatch(o),a=te.mergeAttributes(e.tokenAttributes,i,s);return new te(e,o,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var i;const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((i=r.parent)==null?void 0:i.scopePath)??null)}),r=r.parent;return r===e?n.reverse():void 0}}const Ue=class Ue{constructor(e,n,r,i,o,s,a,l){y(this,"parent");y(this,"ruleId");y(this,"beginRuleCapturedEOL");y(this,"endRule");y(this,"nameScopesList");y(this,"contentNameScopesList");y(this,"_stackElementBrand");y(this,"_enterPos");y(this,"_anchorPos");y(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=o,this.endRule=s,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}equals(e){return e===null?!1:Ue._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?te.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Ue._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,o,s,a){return new Ue(this,e,n,r,i,o,s,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var r,i;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(i=this.contentNameScopesList)==null?void 0:i.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Ue(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const r=te.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Ue(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,te.fromExtension(r,n.contentNameScopesList))}};y(Ue,"NULL",new Ue(null,0,0,0,!1,null,null,null));let wn=Ue;class cm{constructor(e,n){y(this,"balancedBracketScopes");y(this,"unbalancedBracketScopes");y(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):hr(r,yr).map(i=>i.matcher)),this.unbalancedBracketScopes=n.flatMap(r=>hr(r,yr).map(i=>i.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const n of this.unbalancedBracketScopes)if(n(e))return!1;for(const n of this.balancedBracketScopes)if(n(e))return!0;return this.allowAny}}class um{constructor(e,n,r,i){y(this,"balancedBracketSelectors");y(this,"_emitBinaryTokens");y(this,"_lineText");y(this,"_tokens");y(this,"_binaryTokens");y(this,"_lastTokenEndIndex");y(this,"_tokenTypeOverrides");this.balancedBracketSelectors=i,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,n){this.produceFromScopes(e.contentNameScopesList,n)}produceFromScopes(e,n){var i;if(this._lastTokenEndIndex>=n)return;if(this._emitBinaryTokens){let o=(e==null?void 0:e.tokenAttributes)??0,s=!1;if((i=this.balancedBracketSelectors)!=null&&i.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const a=(e==null?void 0:e.getScopeNames())??[];for(const l of this._tokenTypeOverrides)l.matcher(a)&&(o=jt.set(o,0,l.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(a))}if(s&&(o=jt.set(o,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===o){this._lastTokenEndIndex=n;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(o),this._lastTokenEndIndex=n;return}const r=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:n,scopes:r}),this._lastTokenEndIndex=n}getResult(e,n){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===n-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,n){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===n-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,n),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let i=0,o=this._binaryTokens.length;i<o;i++)r[i]=this._binaryTokens[i];return r}}class fm{constructor(e,n){y(this,"_onigLibPromise");y(this,"_grammars",new Map);y(this,"_rawGrammars",new Map);y(this,"_injectionGrammars",new Map);y(this,"_theme");this._onigLibPromise=n,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,n){this._rawGrammars.set(e.scopeName,e),n&&this._injectionGrammars.set(e.scopeName,n)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}async grammarForScopeName(e,n,r,i,o){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,sm(e,s,n,r,i,o,this,await this._onigLibPromise))}return this._grammars.get(e)}}let dm=class{constructor(e){y(this,"_options");y(this,"_syncRegistry");y(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new fm(mr.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(mr.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new cm(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}async _loadGrammar(e,n,r,i,o){const s=new Mg(this._syncRegistry,e);for(;s.Q.length>0;)await Promise.all(s.Q.map(a=>this._loadSingleGrammar(a.scopeName))),s.processQueue();return this._grammarForScopeName(e,n,r,i,o)}async _loadSingleGrammar(e){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),this._ensureGrammarCache.get(e)}async _doLoadSingleGrammar(e){const n=await this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}async addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),await this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,o=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,o)}};const hm=wn.NULL,J={LANGUAGEID_MASK:255,TOKEN_TYPE_MASK:768,BALANCED_BRACKETS_MASK:1024,FONT_STYLE_MASK:14336,FOREGROUND_MASK:8372224,BACKGROUND_MASK:4286578688,LANGUAGEID_OFFSET:0,TOKEN_TYPE_OFFSET:8,BALANCED_BRACKETS_OFFSET:10,FONT_STYLE_OFFSET:11,FOREGROUND_OFFSET:15,BACKGROUND_OFFSET:24};class He{static toBinaryStr(e){let n=e.toString(2);for(;n.length<32;)n=`0${n}`;return n}static getLanguageId(e){return(e&J.LANGUAGEID_MASK)>>>J.LANGUAGEID_OFFSET}static getTokenType(e){return(e&J.TOKEN_TYPE_MASK)>>>J.TOKEN_TYPE_OFFSET}static getFontStyle(e){return(e&J.FONT_STYLE_MASK)>>>J.FONT_STYLE_OFFSET}static getForeground(e){return(e&J.FOREGROUND_MASK)>>>J.FOREGROUND_OFFSET}static getBackground(e){return(e&J.BACKGROUND_MASK)>>>J.BACKGROUND_OFFSET}static containsBalancedBrackets(e){return(e&J.BALANCED_BRACKETS_MASK)!==0}static set(e,n,r,i,o,s){let a=He.getLanguageId(e),l=He.getTokenType(e),c=He.getFontStyle(e),u=He.getForeground(e),f=He.getBackground(e);const h=He.containsBalancedBrackets(e)?1:0;return n!==0&&(a=n),r!==0&&(l=r===8?0:r),i!==Ce.NotSet&&(c=i),o!==0&&(u=o),s!==0&&(f=s),(a<<J.LANGUAGEID_OFFSET|l<<J.TOKEN_TYPE_OFFSET|c<<J.FONT_STYLE_OFFSET|h<<J.BALANCED_BRACKETS_OFFSET|u<<J.FOREGROUND_OFFSET|f<<J.BACKGROUND_OFFSET)>>>0}}function Fr(t,e=!1){var o;const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let s=0;s<n.length;s+=2){const a=e?n[s]+(n[s+1]||""):n[s];i.push([a,r]),r+=n[s].length,r+=((o=n[s+1])==null?void 0:o.length)||0}return i}function vc(t){return!t||["plaintext","txt","text","plain"].includes(t)}function pm(t){return t==="ansi"||vc(t)}function _c(t){return t==="none"}function gm(t){return _c(t)}function wc(t,e){var r;if(!e)return t;t.properties||(t.properties={}),(r=t.properties).class||(r.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const i of n)i&&!t.properties.class.includes(i)&&t.properties.class.push(i);return t}function mm(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function ym(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const o=n.filter(s=>i.offset<s&&s<i.offset+i.content.length).map(s=>s-i.offset).sort((s,a)=>s-a);return o.length?mm(i,o):i})):t}function ct(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function Sc(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Ce.Italic&&(e["font-style"]="italic"),t.fontStyle&Ce.Bold&&(e["font-weight"]="bold"),t.fontStyle&Ce.Underline&&(e["text-decoration"]="underline")),e}function Cc(t){return Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function bm(t){const e=Fr(t,!0).map(([i])=>i);function n(i){let o=i,s=0;for(const a of e){if(o<a.length)break;o-=a.length,s++}return{line:s,character:o}}function r(i,o){let s=0;for(let a=0;a<i;a++)s+=e[a].length;return s+=o,s}return{lines:e,indexToPos:n,posToIndex:r}}var ut=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],ri={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function vm(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function qs(t,e){let n=1;const r=t[e+n++];let i;if(r==="2"){const o=[t[e+n++],t[e+n++],t[e+n]].map(s=>Number.parseInt(s));o.length===3&&!o.some(s=>Number.isNaN(s))&&(i={type:"rgb",rgb:o})}else if(r==="5"){const o=Number.parseInt(t[e+n]);Number.isNaN(o)||(i={type:"table",index:Number(o)})}return[n,i]}function _m(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)e.push({type:"resetAll"});else if(i<=9)ri[i]&&e.push({type:"setDecoration",value:ri[i]});else if(i<=29){const o=ri[i-20];o&&e.push({type:"resetDecoration",value:o})}else if(i<=37)e.push({type:"setForegroundColor",value:{type:"named",name:ut[i-30]}});else if(i===38){const[o,s]=qs(t,n);s&&e.push({type:"setForegroundColor",value:s}),n+=o}else if(i===39)e.push({type:"resetForegroundColor"});else if(i<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:ut[i-40]}});else if(i===48){const[o,s]=qs(t,n);s&&e.push({type:"setBackgroundColor",value:s}),n+=o}else i===49?e.push({type:"resetBackgroundColor"}):i>=90&&i<=97?e.push({type:"setForegroundColor",value:{type:"named",name:ut[i-90+8]}}):i>=100&&i<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:ut[i-100+8]}})}return e}function wm(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let o=0;do{const s=vm(r,o),a=s.sequence?r.substring(o,s.startPosition):r.substring(o);if(a.length>0&&i.push({value:a,foreground:t,background:e,decorations:new Set(n)}),s.sequence){const l=_m(s.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,n.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&n.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&n.add(c.value)}o=s.position}while(o<r.length);return i}}}var Sm={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Cm(t=Sm){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let c=0;c<ut.length;c++)r.push(e(ut[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let f=0;f<6;f++)r.push(n([a[c],a[u],a[f]]));let l=8;for(let c=0;c<24;c++,l+=10)r.push(n([l,l,l]));return r}function o(a){return i()[a]}function s(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return o(a.index)}}return{value:s}}function xm(t,e,n){const r={...t.colorReplacements,...n==null?void 0:n.colorReplacements},i=Fr(e),o=Cm(Object.fromEntries(ut.map(a=>{var l;return[a,(l=t.colors)==null?void 0:l[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]}))),s=wm();return i.map(a=>s.parse(a[0]).map(l=>{let c,u;l.decorations.has("reverse")?(c=l.background?o.value(l.background):t.bg,u=l.foreground?o.value(l.foreground):t.fg):(c=l.foreground?o.value(l.foreground):t.fg,u=l.background?o.value(l.background):void 0),c=ct(c,r),u=ct(u,r),l.decorations.has("dim")&&(c=Em(c));let f=Ce.None;return l.decorations.has("bold")&&(f|=Ce.Bold),l.decorations.has("italic")&&(f|=Ce.Italic),l.decorations.has("underline")&&(f|=Ce.Underline),{content:l.value,offset:a[1],color:c,bgColor:u,fontStyle:f}}))}function Em(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function Eo(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(vc(r)||_c(i))return Fr(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:o,colorMap:s}=t.setTheme(i);if(r==="ansi")return xm(o,e,n);const a=t.getLanguage(r);return Am(e,a,o,s,n)}function Am(t,e,n,r,i){const o={...n.colorReplacements,...i==null?void 0:i.colorReplacements},{tokenizeMaxLineLength:s=0,tokenizeTimeLimit:a=500}=i,l=Fr(t);let c=hm,u=[];const f=[];for(let h=0,m=l.length;h<m;h++){const[g,b]=l[h];if(g===""){u=[],f.push([]);continue}if(s>0&&g.length>=s){u=[],f.push([{content:g,offset:b,color:"",fontStyle:0}]);continue}let d,v,w;i.includeExplanation&&(d=e.tokenizeLine(g,c),v=d.tokens,w=0);const x=e.tokenizeLine2(g,c,a),p=x.tokens.length/2;for(let E=0;E<p;E++){const C=x.tokens[2*E],T=E+1<p?x.tokens[2*E+2]:g.length;if(C===T)continue;const B=x.tokens[2*E+1],N=ct(r[He.getForeground(B)],o),I=He.getFontStyle(B),H={content:g.substring(C,T),offset:b+C,color:N,fontStyle:I};if(i.includeExplanation){H.explanation=[];let $=0;for(;C+$<T;){const M=v[w],X=g.substring(M.startIndex,M.endIndex);$+=X.length,H.explanation.push({content:X,scopes:Om(n,M.scopes)}),w+=1}}u.push(H)}f.push(u),u=[],c=x.ruleStack}return f}function Om(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e.slice(0,r),s=e[r];n[r]={scopeName:s,themeMatches:Rm(t,s,o)}}return n}function Vs(t,e){const n=`${t}.`;return t===e||e.substring(0,n.length)===n}function Tm(t,e,n,r){if(!Vs(t,n))return!1;let i=e.length-1,o=r.length-1;for(;i>=0&&o>=0;)Vs(e[i],r[o])&&(i-=1),o-=1;return i===-1}function Rm(t,e,n){const r=[];let i=0;for(let o=0,s=t.settings.length;o<s;o++){const a=t.settings[o];let l;if(typeof a.scope=="string")l=a.scope.split(/,/).map(c=>c.trim());else if(Array.isArray(a.scope))l=a.scope;else continue;for(let c=0,u=l.length;c<u;c++){const h=l[c].split(/ /),m=h[h.length-1],g=h.slice(0,h.length-1);Tm(m,g,e,n)&&(r[i++]=a,c=u)}}return r}function xc(t,e,n){const r=Object.entries(n.themes).filter(s=>s[1]).map(s=>({color:s[0],theme:s[1]})),i=km(...r.map(s=>Eo(t,e,{...n,theme:s.theme})));return i[0].map((s,a)=>s.map((l,c)=>{const u={content:l.content,variants:{},offset:l.offset};return i.forEach((f,h)=>{const{content:m,explanation:g,offset:b,...d}=f[a][c];u.variants[r[h].color]=d}),u}))}function km(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(l=>l[r]),o=e.map(()=>[]);e.forEach((l,c)=>l.push(o[c]));const s=i.map(()=>0),a=i.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<n;c++){const u=a[c];u.content.length===l?(o[c].push(u),s[c]+=1,a[c]=i[c][s[c]]):(o[c].push({...u,content:u.content.slice(0,l)}),a[c]={...u,content:u.content.slice(l),offset:u.offset+l})}}}return e}class ne extends Error{constructor(e){super(e),this.name="ShikiError"}}function br(t,e,n){let r,i,o,s,a;if("themes"in n){const{defaultColor:l="light",cssVariablePrefix:c="--shiki-",colorReplacements:u}=n,f=Object.entries(n.themes).filter(b=>b[1]).map(b=>({color:b[0],theme:b[1]})).sort((b,d)=>b.color===l?-1:d.color===l?1:0);if(f.length===0)throw new ne("`themes` option must not be empty");const h=xc(t,e,n);if(l&&!f.find(b=>b.color===l))throw new ne(`\`themes\` option must contain the defaultColor key \`${l}\``);const m=f.map(b=>t.getTheme(b.theme)),g=f.map(b=>b.color);o=h.map(b=>b.map(d=>Pm(d,g,c,l))),i=f.map((b,d)=>(d===0&&l?"":`${c+b.color}:`)+(ct(m[d].fg,u)||"inherit")).join(";"),r=f.map((b,d)=>(d===0&&l?"":`${c+b.color}-bg:`)+(ct(m[d].bg,u)||"inherit")).join(";"),s=`shiki-themes ${m.map(b=>b.name).join(" ")}`,a=l?void 0:[i,r].join(";")}else if("theme"in n){const{colorReplacements:l}=n;o=Eo(t,e,n);const c=t.getTheme(n.theme);r=ct(c.bg,l),i=ct(c.fg,l),s=c.name}else throw new ne("Invalid options, either `theme` or `themes` must be provided");return{tokens:o,fg:i,bg:r,themeName:s,rootStyle:a}}function Pm(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},o=e.map(l=>Sc(t.variants[l])),s=new Set(o.flatMap(l=>Object.keys(l))),a=o.reduce((l,c,u)=>{for(const f of s){const h=c[f]||"inherit";if(u===0&&r)l[f]=h;else{const m=f==="color"?"":f==="background-color"?"-bg":`-${f}`,g=n+e[u]+(f==="color"?"":m);l[f]?l[f]+=`;${g}:${h}`:l[f]=`${g}:${h}`}}return l},{});return i.htmlStyle=r?Cc(a):Object.values(a).join(";"),i}function Bm(){const t=new WeakMap;function e(r){if(!t.has(r.meta)){let o=function(a){return typeof a=="number"?{...i.indexToPos(a),offset:a}:{...a,offset:i.posToIndex(a.line,a.character)}};const i=bm(r.source),s=(r.options.decorations||[]).map(a=>({...a,start:o(a.start),end:o(a.end)}));n(s),t.set(r.meta,{decorations:s,converter:i,source:r.source})}return t.get(r.meta)}function n(r){for(let i=0;i<r.length;i++){const o=r[i];if(o.start.offset>o.end.offset)throw new ne(`Invalid decoration range: ${JSON.stringify(o.start)} - ${JSON.stringify(o.end)}`);for(let s=i+1;s<r.length;s++){const a=r[s],l=o.start.offset<a.start.offset&&a.start.offset<o.end.offset,c=o.start.offset<a.end.offset&&a.end.offset<o.end.offset,u=a.start.offset<o.start.offset&&o.start.offset<a.end.offset,f=a.start.offset<o.end.offset&&o.end.offset<a.end.offset;if(l||c||u||f){if(c&&c||u&&f)continue;throw new ne(`Decorations ${JSON.stringify(o.start)} and ${JSON.stringify(a.start)} intersect.`)}}}}return{name:"shiki:decorations",tokens(r){var a;if(!((a=this.options.decorations)!=null&&a.length))return;const o=e(this).decorations.flatMap(l=>[l.start.offset,l.end.offset]);return ym(r,o)},code(r){var f;if(!((f=this.options.decorations)!=null&&f.length))return;const i=e(this),o=Array.from(r.children).filter(h=>h.type==="element"&&h.tagName==="span");if(o.length!==i.converter.lines.length)throw new ne(`Number of lines in code element (${o.length}) does not match the number of lines in the source (${i.converter.lines.length}). Failed to apply decorations.`);function s(h,m,g,b){const d=o[h];let v="",w=-1,x=-1;function p(C){return C.type==="text"?C.value:C.type==="element"?C.children.map(p).join(""):""}if(m===0&&(w=0),g===0&&(x=0),g===Number.POSITIVE_INFINITY&&(x=d.children.length),w===-1||x===-1)for(let C=0;C<d.children.length;C++)v+=p(d.children[C]),w===-1&&v.length===m&&(w=C+1),x===-1&&v.length===g&&(x=C+1);if(w===-1)throw new ne(`Failed to find start index for decoration ${JSON.stringify(b.start)}`);if(x===-1)throw new ne(`Failed to find end index for decoration ${JSON.stringify(b.end)}`);const E=d.children.slice(w,x);if(!b.alwaysWrap&&E.length===d.children.length)l(d,b,"line");else if(!b.alwaysWrap&&E.length===1&&E[0].type==="element")l(E[0],b,"token");else{const C={type:"element",tagName:"span",properties:{},children:E};l(C,b,"wrapper"),d.children.splice(w,E.length,C)}}function a(h,m){o[h]=l(o[h],m,"line")}function l(h,m,g){var v;const b=m.properties||{},d=m.transform||(w=>w);return h.tagName=m.tagName||"span",h.properties={...h.properties,...b,class:h.properties.class},(v=m.properties)!=null&&v.class&&wc(h,m.properties.class),h=d(h,g)||h,h}const c=[],u=i.decorations.sort((h,m)=>m.start.offset-h.start.offset);for(const h of u){const{start:m,end:g}=h;if(m.line===g.line)s(m.line,m.character,g.character,h);else if(m.line<g.line){s(m.line,m.character,Number.POSITIVE_INFINITY,h);for(let b=m.line+1;b<g.line;b++)c.unshift(()=>a(b,h));s(g.line,0,g.character,h)}}c.forEach(h=>h())}}}const Lm=[Bm()];function vr(t){return[...t.transformers||[],...Lm]}function _r(t,e,n,r={meta:{},options:n,codeToHast:(i,o)=>_r(t,i,o),codeToTokens:(i,o)=>br(t,i,o)}){var h,m;let i=e;for(const g of vr(n))i=((h=g.preprocess)==null?void 0:h.call(r,i,n))||i;let{tokens:o,fg:s,bg:a,themeName:l,rootStyle:c}=br(t,i,n);const{mergeWhitespaces:u=!0}=n;u===!0?o=Nm(o):u==="never"&&(o=Mm(o));const f={...r,get source(){return i}};for(const g of vr(n))o=((m=g.tokens)==null?void 0:m.call(f,o))||o;return Dm(o,{...n,fg:s,bg:a,themeName:l,rootStyle:c},f)}function Dm(t,e,n){var h,m,g;const r=vr(e),i=[],o={type:"root",children:[]},{structure:s="classic"}=e;let a={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,tabindex:"0",...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([b])=>!b.startsWith("_")))},children:[]},l={type:"element",tagName:"code",properties:{},children:i};const c=[],u={...n,structure:s,addClassToHast:wc,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return a},get code(){return l},get lines(){return c}};if(t.forEach((b,d)=>{var x,p;d&&(s==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):s==="classic"&&i.push({type:"text",value:`
`}));let v={type:"element",tagName:"span",properties:{class:"line"},children:[]},w=0;for(const E of b){let C={type:"element",tagName:"span",properties:{},children:[{type:"text",value:E.content}]};const T=E.htmlStyle||Cc(Sc(E));T&&(C.properties.style=T);for(const B of r)C=((x=B==null?void 0:B.span)==null?void 0:x.call(u,C,d+1,w,v))||C;s==="inline"?o.children.push(C):s==="classic"&&v.children.push(C),w+=E.content.length}if(s==="classic"){for(const E of r)v=((p=E==null?void 0:E.line)==null?void 0:p.call(u,v,d+1))||v;c.push(v),i.push(v)}}),s==="classic"){for(const b of r)l=((h=b==null?void 0:b.code)==null?void 0:h.call(u,l))||l;a.children.push(l);for(const b of r)a=((m=b==null?void 0:b.pre)==null?void 0:m.call(u,a))||a;o.children.push(a)}let f=o;for(const b of r)f=((g=b==null?void 0:b.root)==null?void 0:g.call(u,f))||f;return f}function Nm(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((o,s)=>{const l=!(o.fontStyle&&o.fontStyle&Ce.Underline);l&&o.content.match(/^\s+$/)&&e[s+1]?(i||(i=o.offset),r+=o.content):r?(l?n.push({...o,offset:i,content:r+o.content}):n.push({content:r,offset:i},o),i=0,r=""):n.push(o)}),n})}function Mm(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,o,s]=r;if(!i&&!s)return n;const a=[{...n,offset:n.offset+i.length,content:o}];return i&&a.unshift({content:i,offset:n.offset}),s&&a.push({content:s,offset:n.offset+i.length+o.length}),a}))}const Im=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class Pn{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Pn.prototype.property={};Pn.prototype.normal={};Pn.prototype.space=null;function Ec(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Pn(n,r,e)}function $i(t){return t.toLowerCase()}class _e{constructor(e,n){this.property=e,this.attribute=n}}_e.prototype.space=null;_e.prototype.boolean=!1;_e.prototype.booleanish=!1;_e.prototype.overloadedBoolean=!1;_e.prototype.number=!1;_e.prototype.commaSeparated=!1;_e.prototype.spaceSeparated=!1;_e.prototype.commaOrSpaceSeparated=!1;_e.prototype.mustUseProperty=!1;_e.prototype.defined=!1;let Fm=0;const P=Ct(),z=Ct(),Ac=Ct(),A=Ct(),F=Ct(),Pt=Ct(),ue=Ct();function Ct(){return 2**++Fm}var ji=Object.freeze({__proto__:null,boolean:P,booleanish:z,commaOrSpaceSeparated:ue,commaSeparated:Pt,number:A,overloadedBoolean:Ac,spaceSeparated:F});const ii=Object.keys(ji);class Ao extends _e{constructor(e,n,r,i){let o=-1;if(super(e,n),Ks(this,"space",i),typeof r=="number")for(;++o<ii.length;){const s=ii[o];Ks(this,ii[o],(r&ji[s])===ji[s])}}}Ao.prototype.defined=!0;function Ks(t,e,n){n&&(t[e]=n)}const $m={}.hasOwnProperty;function qt(t){const e={},n={};let r;for(r in t.properties)if($m.call(t.properties,r)){const i=t.properties[r],o=new Ao(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[$i(r)]=r,n[$i(o.attribute)]=r}return new Pn(e,n,t.space)}const Oc=qt({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Tc=qt({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Rc(t,e){return e in t?t[e]:e}function kc(t,e){return Rc(t,e.toLowerCase())}const Pc=qt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kc,properties:{xmlns:null,xmlnsXLink:null}}),Bc=qt({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:z,ariaAutoComplete:null,ariaBusy:z,ariaChecked:z,ariaColCount:A,ariaColIndex:A,ariaColSpan:A,ariaControls:F,ariaCurrent:null,ariaDescribedBy:F,ariaDetails:null,ariaDisabled:z,ariaDropEffect:F,ariaErrorMessage:null,ariaExpanded:z,ariaFlowTo:F,ariaGrabbed:z,ariaHasPopup:null,ariaHidden:z,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:F,ariaLevel:A,ariaLive:null,ariaModal:z,ariaMultiLine:z,ariaMultiSelectable:z,ariaOrientation:null,ariaOwns:F,ariaPlaceholder:null,ariaPosInSet:A,ariaPressed:z,ariaReadOnly:z,ariaRelevant:null,ariaRequired:z,ariaRoleDescription:F,ariaRowCount:A,ariaRowIndex:A,ariaRowSpan:A,ariaSelected:z,ariaSetSize:A,ariaSort:null,ariaValueMax:A,ariaValueMin:A,ariaValueNow:A,ariaValueText:null,role:null}}),jm=qt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kc,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pt,acceptCharset:F,accessKey:F,action:null,allow:null,allowFullScreen:P,allowPaymentRequest:P,allowUserMedia:P,alt:null,as:null,async:P,autoCapitalize:null,autoComplete:F,autoFocus:P,autoPlay:P,blocking:F,capture:null,charSet:null,checked:P,cite:null,className:F,cols:A,colSpan:null,content:null,contentEditable:z,controls:P,controlsList:F,coords:A|Pt,crossOrigin:null,data:null,dateTime:null,decoding:null,default:P,defer:P,dir:null,dirName:null,disabled:P,download:Ac,draggable:z,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:P,formTarget:null,headers:F,height:A,hidden:P,high:A,href:null,hrefLang:null,htmlFor:F,httpEquiv:F,id:null,imageSizes:null,imageSrcSet:null,inert:P,inputMode:null,integrity:null,is:null,isMap:P,itemId:null,itemProp:F,itemRef:F,itemScope:P,itemType:F,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:P,low:A,manifest:null,max:null,maxLength:A,media:null,method:null,min:null,minLength:A,multiple:P,muted:P,name:null,nonce:null,noModule:P,noValidate:P,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:P,optimum:A,pattern:null,ping:F,placeholder:null,playsInline:P,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:P,referrerPolicy:null,rel:F,required:P,reversed:P,rows:A,rowSpan:A,sandbox:F,scope:null,scoped:P,seamless:P,selected:P,shadowRootDelegatesFocus:P,shadowRootMode:null,shape:null,size:A,sizes:null,slot:null,span:A,spellCheck:z,src:null,srcDoc:null,srcLang:null,srcSet:null,start:A,step:null,style:null,tabIndex:A,target:null,title:null,translate:null,type:null,typeMustMatch:P,useMap:null,value:z,width:A,wrap:null,align:null,aLink:null,archive:F,axis:null,background:null,bgColor:null,border:A,borderColor:null,bottomMargin:A,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:P,declare:P,event:null,face:null,frame:null,frameBorder:null,hSpace:A,leftMargin:A,link:null,longDesc:null,lowSrc:null,marginHeight:A,marginWidth:A,noResize:P,noHref:P,noShade:P,noWrap:P,object:null,profile:null,prompt:null,rev:null,rightMargin:A,rules:null,scheme:null,scrolling:z,standby:null,summary:null,text:null,topMargin:A,valueType:null,version:null,vAlign:null,vLink:null,vSpace:A,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:P,disableRemotePlayback:P,prefix:null,property:null,results:A,security:null,unselectable:null}}),Um=qt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Rc,properties:{about:ue,accentHeight:A,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:A,amplitude:A,arabicForm:null,ascent:A,attributeName:null,attributeType:null,azimuth:A,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:A,by:null,calcMode:null,capHeight:A,className:F,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:A,diffuseConstant:A,direction:null,display:null,dur:null,divisor:A,dominantBaseline:null,download:P,dx:null,dy:null,edgeMode:null,editable:null,elevation:A,enableBackground:null,end:null,event:null,exponent:A,externalResourcesRequired:null,fill:null,fillOpacity:A,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pt,g2:Pt,glyphName:Pt,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:A,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:A,horizOriginX:A,horizOriginY:A,id:null,ideographic:A,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:A,k:A,k1:A,k2:A,k3:A,k4:A,kernelMatrix:ue,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:A,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:A,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:A,overlineThickness:A,paintOrder:null,panose1:null,path:null,pathLength:A,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:F,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:A,pointsAtY:A,pointsAtZ:A,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ue,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ue,rev:ue,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ue,requiredFeatures:ue,requiredFonts:ue,requiredFormats:ue,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:A,specularExponent:A,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:A,strikethroughThickness:A,string:null,stroke:null,strokeDashArray:ue,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:A,strokeOpacity:A,strokeWidth:null,style:null,surfaceScale:A,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ue,tabIndex:A,tableValues:null,target:null,targetX:A,targetY:A,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ue,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:A,underlineThickness:A,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:A,values:null,vAlphabetic:A,vMathematical:A,vectorEffect:null,vHanging:A,vIdeographic:A,version:null,vertAdvY:A,vertOriginX:A,vertOriginY:A,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:A,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Hm=/^data[-\w.:]+$/i,Ys=/-[a-z]/g,zm=/[A-Z]/g;function Gm(t,e){const n=$i(e);let r=e,i=_e;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Hm.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Ys,qm);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Ys.test(o)){let s=o.replace(zm,Wm);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=Ao}return new i(r,e)}function Wm(t){return"-"+t.toLowerCase()}function qm(t){return t.charAt(1).toUpperCase()}const Vm=Ec([Tc,Oc,Pc,Bc,jm],"html"),Lc=Ec([Tc,Oc,Pc,Bc,Um],"svg"),Js={}.hasOwnProperty;function Km(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&Js.call(i,t)){const l=String(i[t]);s=Js.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Ym(t,e){if(t=t.replace(e.subset?Jm(e.subset):/["&'<>`]/g,r),e.subset||e.escapeOnly)return t;return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,r);function n(i,o,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(o+2),e)}function r(i,o,s){return e.format(i.charCodeAt(0),s.charCodeAt(o+1),e)}}function Jm(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function Xm(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!/[\dA-Fa-f]/.test(String.fromCharCode(e))?r:r+";"}function Qm(t,e,n){const r="&#"+String(t);return n&&e&&!/\d/.test(String.fromCharCode(e))?r:r+";"}const Zm=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],oi={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},ey=["cent","copy","divide","gt","lt","not","para","times"],Dc={}.hasOwnProperty,Ui={};let Xn;for(Xn in oi)Dc.call(oi,Xn)&&(Ui[oi[Xn]]=Xn);function ty(t,e,n,r){const i=String.fromCharCode(t);if(Dc.call(Ui,i)){const o=Ui[i],s="&"+o;return n&&Zm.includes(o)&&!ey.includes(o)&&(!r||e&&e!==61&&/[^\da-z]/i.test(String.fromCharCode(e)))?s:s+";"}return""}function ny(t,e,n){let r=Xm(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=ty(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const o=Qm(t,e,n.omitOptionalSemicolons);o.length<r.length&&(r=o)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Bt(t,e){return Ym(t,Object.assign({format:ny},e))}const ry=/^>|^->|<!--|-->|--!>|<!-$/g,iy=[">"],oy=["<",">"];function sy(t,e,n,r){return r.settings.bogusComments?"<?"+Bt(t.value,Object.assign({},r.settings.characterReferences,{subset:iy}))+">":"<!--"+t.value.replace(ry,i)+"-->";function i(o){return Bt(o,Object.assign({},r.settings.characterReferences,{subset:oy}))}}function ay(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function Xs(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function ly(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function cy(t){return t.join(" ").trim()}const uy=/[ \t\n\f\r]/g;function Oo(t){return typeof t=="object"?t.type==="text"?Qs(t.value):!1:Qs(t)}function Qs(t){return t.replace(uy,"")===""}const q=Mc(1),Nc=Mc(-1),fy=[];function Mc(t){return e;function e(n,r,i){const o=n?n.children:fy;let s=(r||0)+t,a=o[s];if(!i)for(;a&&Oo(a);)s+=t,a=o[s];return a}}const dy={}.hasOwnProperty;function Ic(t){return e;function e(n,r,i){return dy.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const To=Ic({body:py,caption:si,colgroup:si,dd:by,dt:yy,head:si,html:hy,li:my,optgroup:vy,option:_y,p:gy,rp:Zs,rt:Zs,tbody:Sy,td:ea,tfoot:Cy,th:ea,thead:wy,tr:xy});function si(t,e,n){const r=q(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Oo(r.value.charAt(0)))}function hy(t,e,n){const r=q(n,e);return!r||r.type!=="comment"}function py(t,e,n){const r=q(n,e);return!r||r.type!=="comment"}function gy(t,e,n){const r=q(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function my(t,e,n){const r=q(n,e);return!r||r.type==="element"&&r.tagName==="li"}function yy(t,e,n){const r=q(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function by(t,e,n){const r=q(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Zs(t,e,n){const r=q(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function vy(t,e,n){const r=q(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function _y(t,e,n){const r=q(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function wy(t,e,n){const r=q(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function Sy(t,e,n){const r=q(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function Cy(t,e,n){return!q(n,e)}function xy(t,e,n){const r=q(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function ea(t,e,n){const r=q(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const Ey=Ic({body:Ty,colgroup:Ry,head:Oy,html:Ay,tbody:ky});function Ay(t){const e=q(t,-1);return!e||e.type!=="comment"}function Oy(t){const e=t.children,n=[];let r=-1;for(;++r<e.length;){const i=e[r];if(i.type==="element"&&(i.tagName==="title"||i.tagName==="base")){if(n.includes(i.tagName))return!1;n.push(i.tagName)}}return e.length>0}function Ty(t){const e=q(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Oo(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function Ry(t,e,n){const r=Nc(n,e),i=q(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&To(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function ky(t,e,n){const r=Nc(n,e),i=q(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&To(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Qn={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Py(t,e,n,r){const i=r.schema,o=i.space==="svg"?!1:r.settings.omitOptionalTags;let s=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;i.space==="html"&&t.tagName==="svg"&&(r.schema=Lc);const c=By(r,t.properties),u=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,u&&(s=!1),(c||!o||!Ey(t,e,n))&&(a.push("<",t.tagName,c?" "+c:""),s&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(u),!s&&(!o||!To(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function By(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const o=Ly(t,i,e[i]);o&&n.push(o)}}for(;++r<n.length;){const o=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&o!=='"'&&o!=="'"&&(n[r]+=" ")}return n.join("")}function Ly(t,e,n){const r=Gm(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,o=t.settings.allowDangerousCharacters?0:1;let s=t.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean&&typeof n!="string")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Bt(r.attribute,Object.assign({},t.settings.characterReferences,{subset:Qn.name[i][o]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?ly:cy)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=Bt(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Qn.unquoted[i][o]}))),a!==n&&(t.settings.quoteSmart&&Xs(n,s)>Xs(n,t.alternative)&&(s=t.alternative),a=s+Bt(n,Object.assign({},t.settings.characterReferences,{subset:(s==="'"?Qn.single:Qn.double)[i][o],attribute:!0}))+s),l+(a&&"="+a))}const Dy=["<","&"];function Fc(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Bt(t.value,Object.assign({},r.settings.characterReferences,{subset:Dy}))}function Ny(t,e,n,r){return r.settings.allowDangerousHtml?t.value:Fc(t,e,n,r)}function My(t,e,n,r){return r.all(t)}const Iy=Km("type",{invalid:Fy,unknown:$y,handlers:{comment:sy,doctype:ay,element:Py,raw:Ny,root:My,text:Fc}});function Fy(t){throw new Error("Expected node, not `"+t+"`")}function $y(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const jy={},Uy={},Hy=[];function zy(t,e){const n=jy,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:Gy,all:Wy,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||Im,characterReferences:n.characterReferences||Uy,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Lc:Vm,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function Gy(t,e,n){return Iy(t,e,n,this)}function Wy(t){const e=[],n=t&&t.children||Hy;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function qy(t,e,n){var o;const r={meta:{},options:n,codeToHast:(s,a)=>_r(t,s,a),codeToTokens:(s,a)=>br(t,s,a)};let i=zy(_r(t,e,n,r));for(const s of vr(n))i=((o=s.postprocess)==null?void 0:o.call(r,i,n))||i;return i}async function Vy(t){let e,n;const r={};function i(h){n=h,r.HEAPU8=new Uint8Array(h),r.HEAPU32=new Uint32Array(h)}function o(){return typeof performance<"u"?performance.now():Date.now()}function s(h,m,g){r.HEAPU8.copyWithin(h,m,m+g)}function a(){return 2147483648}function l(h){try{return e.grow(h-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function c(h){const m=r.HEAPU8.length;h=h>>>0;const g=a();if(h>g)return!1;const b=(d,v)=>d+(v-d%v)%v;for(let d=1;d<=4;d*=2){let v=m*(1+.2/d);v=Math.min(v,h+100663296);const w=Math.min(g,b(Math.max(h,v),65536));if(l(w))return!0}return!1}const u={emscripten_get_now:o,emscripten_memcpy_big:s,emscripten_resize_heap:c,fd_write:()=>0};async function f(){const m=await t({env:u,wasi_snapshot_preview1:u});e=m.memory,i(e.buffer),Object.assign(r,m)}return await f(),r}let K=null,Ky=!1;function Yy(t){throw new ne(t.UTF8ToString(t.getLastOnigError()))}class $r{constructor(e){y(this,"utf16Length");y(this,"utf8Length");y(this,"utf16Value");y(this,"utf8Value");y(this,"utf16OffsetToUtf8");y(this,"utf8OffsetToUtf16");const n=e.length,r=$r._utf8ByteLength(e),i=r!==n,o=i?new Uint32Array(n+1):null;i&&(o[n]=r);const s=i?new Uint32Array(r+1):null;i&&(s[r]=n);const a=new Uint8Array(r);let l=0;for(let c=0;c<n;c++){const u=e.charCodeAt(c);let f=u,h=!1;if(u>=55296&&u<=56319&&c+1<n){const m=e.charCodeAt(c+1);m>=56320&&m<=57343&&(f=(u-55296<<10)+65536|m-56320,h=!0)}i&&(o[c]=l,h&&(o[c+1]=l),f<=127?s[l+0]=c:f<=2047?(s[l+0]=c,s[l+1]=c):f<=65535?(s[l+0]=c,s[l+1]=c,s[l+2]=c):(s[l+0]=c,s[l+1]=c,s[l+2]=c,s[l+3]=c)),f<=127?a[l++]=f:f<=2047?(a[l++]=192|(f&1984)>>>6,a[l++]=128|(f&63)>>>0):f<=65535?(a[l++]=224|(f&61440)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0):(a[l++]=240|(f&1835008)>>>18,a[l++]=128|(f&258048)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0),h&&c++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=s}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const o=e.charCodeAt(r);let s=o,a=!1;if(o>=55296&&o<=56319&&r+1<i){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(s=(o-55296<<10)+65536|l-56320,a=!0)}s<=127?n+=1:s<=2047?n+=2:s<=65535?n+=3:n+=4,a&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const ie=class ie{constructor(e){y(this,"id",++ie.LAST_ID);y(this,"_onigBinding");y(this,"content");y(this,"utf16Length");y(this,"utf8Length");y(this,"utf16OffsetToUtf8");y(this,"utf8OffsetToUtf16");y(this,"ptr");if(!K)throw new ne("Must invoke loadWasm first.");this._onigBinding=K,this.content=e;const n=new $r(e);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!ie._sharedPtrInUse?(ie._sharedPtr||(ie._sharedPtr=K.omalloc(1e4)),ie._sharedPtrInUse=!0,K.HEAPU8.set(n.utf8Value,ie._sharedPtr),this.ptr=ie._sharedPtr):this.ptr=n.createString(K)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===ie._sharedPtr?ie._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};y(ie,"LAST_ID",0),y(ie,"_sharedPtr",0),y(ie,"_sharedPtrInUse",!1);let wr=ie;class Jy{constructor(e){y(this,"_onigBinding");y(this,"_ptr");if(!K)throw new ne("Must invoke loadWasm first.");const n=[],r=[];for(let a=0,l=e.length;a<l;a++){const c=new $r(e[a]);n[a]=c.createString(K),r[a]=c.utf8Length}const i=K.omalloc(4*e.length);K.HEAPU32.set(n,i/4);const o=K.omalloc(4*e.length);K.HEAPU32.set(r,o/4);const s=K.createOnigScanner(i,o,e.length);for(let a=0,l=e.length;a<l;a++)K.ofree(n[a]);K.ofree(o),K.ofree(i),s===0&&Yy(K),this._onigBinding=K,this._ptr=s}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=Ky,o=0;if(typeof r=="number"?(r&8&&(i=!0),o=r):typeof r=="boolean"&&(i=r),typeof e=="string"){e=new wr(e);const s=this._findNextMatchSync(e,n,i,o);return e.dispose(),s}return this._findNextMatchSync(e,n,i,o)}_findNextMatchSync(e,n,r,i){const o=this._onigBinding;let s;if(r?s=o.findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i):s=o.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i),s===0)return null;const a=o.HEAPU32;let l=s/4;const c=a[l++],u=a[l++],f=[];for(let h=0;h<u;h++){const m=e.convertUtf8OffsetToUtf16(a[l++]),g=e.convertUtf8OffsetToUtf16(a[l++]);f[h]={start:m,end:g,length:g-m}}return{index:c,captureIndices:f}}}function Xy(t){return typeof t.instantiator=="function"}function Qy(t){return typeof t.default=="function"}function Zy(t){return typeof t.data<"u"}function eb(t){return typeof Response<"u"&&t instanceof Response}function tb(t){var e;return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&((e=Buffer.isBuffer)==null?void 0:e.call(Buffer,t))||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Zn;function nb(t){if(Zn)return Zn;async function e(){K=await Vy(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),Xy(r)?r=await r.instantiator(n):Qy(r)?r=await r.default(n):(Zy(r)&&(r=r.data),eb(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await ib(r)(n):r=await ob(r)(n):tb(r)&&(r=await rb(r)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return Zn=e(),Zn}function rb(t){return e=>WebAssembly.instantiate(t,e)}function ib(t){return e=>WebAssembly.instantiateStreaming(t,e)}function ob(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}function sb(t){return new wr(t)}function ab(t){return new Jy(t)}const ta={light:"#333333",dark:"#bbbbbb"},na={light:"#fffffe",dark:"#1e1e1e"},ra="__shiki_resolved";function $c(t){var a,l,c,u,f;if(t!=null&&t[ra])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:r}=e;if(!n||!r){const h=e.settings?e.settings.find(m=>!m.name&&!m.scope):void 0;(a=h==null?void 0:h.settings)!=null&&a.foreground&&(r=h.settings.foreground),(l=h==null?void 0:h.settings)!=null&&l.background&&(n=h.settings.background),!r&&((c=e==null?void 0:e.colors)!=null&&c["editor.foreground"])&&(r=e.colors["editor.foreground"]),!n&&((u=e==null?void 0:e.colors)!=null&&u["editor.background"])&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?ta.light:ta.dark),n||(n=e.type==="light"?na.light:na.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const o=new Map;function s(h){var g;if(o.has(h))return o.get(h);i+=1;const m=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return(g=e.colorReplacements)!=null&&g[`#${m}`]?s(h):(o.set(h,m),m)}e.settings=e.settings.map(h=>{var d,v;const m=((d=h.settings)==null?void 0:d.foreground)&&!h.settings.foreground.startsWith("#"),g=((v=h.settings)==null?void 0:v.background)&&!h.settings.background.startsWith("#");if(!m&&!g)return h;const b={...h,settings:{...h.settings}};if(m){const w=s(h.settings.foreground);e.colorReplacements[w]=h.settings.foreground,b.settings.foreground=w}if(g){const w=s(h.settings.background);e.colorReplacements[w]=h.settings.background,b.settings.background=w}return b});for(const h of Object.keys(e.colors||{}))if((h==="editor.foreground"||h==="editor.background"||h.startsWith("terminal.ansi"))&&!((f=e.colors[h])!=null&&f.startsWith("#"))){const m=s(e.colors[h]);e.colorReplacements[m]=e.colors[h],e.colors[h]=m}return Object.defineProperty(e,ra,{enumerable:!1,writable:!1,value:!0}),e}class lb extends dm{constructor(n,r,i,o={}){super(n);y(this,"_resolver");y(this,"_themes");y(this,"_langs");y(this,"_alias");y(this,"_resolvedThemes",{});y(this,"_resolvedGrammars",{});y(this,"_langMap",{});y(this,"_langGraph",new Map);y(this,"_textmateThemeCache",new WeakMap);y(this,"_loadedThemesCache",null);y(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=i,this._alias=o,r.forEach(s=>this.loadTheme(s)),i.forEach(s=>this.loadLanguage(s))}getTheme(n){return typeof n=="string"?this._resolvedThemes[n]:this.loadTheme(n)}loadTheme(n){const r=$c(n);return r.name&&(this._resolvedThemes[r.name]=r,this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=Object.keys(this._resolvedThemes)),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=mr.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new ne(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars[n]}async loadLanguage(n){var s,a,l,c;if(this.getGrammar(n.name))return;const r=new Set(Object.values(this._langMap).filter(u=>{var f;return(f=u.embeddedLangsLazy)==null?void 0:f.includes(n.name)}));this._resolver.addLanguage(n);const i={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const o=await this.loadGrammarWithConfiguration(n.scopeName,1,i);if(this._resolvedGrammars[n.name]=o,n.aliases&&n.aliases.forEach(u=>{this._alias[u]=n.name}),this._loadedLanguagesCache=null,r.size)for(const u of r)delete this._resolvedGrammars[u.name],this._loadedLanguagesCache=null,(a=(s=this._syncRegistry)==null?void 0:s._injectionGrammars)==null||a.delete(u.scopeName),(c=(l=this._syncRegistry)==null?void 0:l._grammars)==null||c.delete(u.scopeName),await this.loadLanguage(this._langMap[u.name])}async init(){this._themes.map(n=>this.loadTheme(n)),await this.loadLanguages(this._langs)}async loadLanguages(n){for(const o of n)this.resolveEmbeddedLanguages(o);const r=Array.from(this._langGraph.entries()),i=r.filter(([o,s])=>!s);if(i.length){const o=r.filter(([s,a])=>{var l;return a&&((l=a.embeddedLangs)==null?void 0:l.some(c=>i.map(([u])=>u).includes(c)))}).filter(s=>!i.includes(s));throw new ne(`Missing languages ${i.map(([s])=>`\`${s}\``).join(", ")}, required by ${o.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[o,s]of r)this._resolver.addLanguage(s);for(const[o,s]of r)await this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=Object.keys({...this._resolvedGrammars,...this._alias})),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap[n.name]=n,this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap[r])}}class cb{constructor(e,n){y(this,"_langs",new Map);y(this,"_scopeToLang",new Map);y(this,"_injections",new Map);y(this,"_onigLibPromise");this._onigLibPromise=e,n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLibPromise}getLangRegistration(e){return this._langs.get(e)}async loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const o=n.slice(0,i).join(".");r=[...r,...this._injections.get(o)||[]]}return r}}let ub;async function fb(t={}){async function e(d){return Promise.resolve(typeof d=="function"?d():d).then(v=>v.default||v)}async function n(d){return Array.from(new Set((await Promise.all(d.filter(v=>!pm(v)).map(async v=>await e(v).then(w=>Array.isArray(w)?w:[w])))).flat()))}const r=t.loadWasm||ub,[i,o]=await Promise.all([Promise.all((t.themes||[]).map(e)).then(d=>d.map($c)),n(t.langs||[]),r?nb(r):void 0]),s=new cb(Promise.resolve({createOnigScanner(d){return ab(d)},createOnigString(d){return sb(d)}}),o),a=new lb(s,i,o,t.langAlias);await a.init();let l;function c(d){const v=a.getGrammar(typeof d=="string"?d:d.name);if(!v)throw new ne(`Language \`${d}\` not found, you may need to load it first`);return v}function u(d){if(d==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};const v=a.getTheme(d);if(!v)throw new ne(`Theme \`${d}\` not found, you may need to load it first`);return v}function f(d){const v=u(d);l!==d&&(a.setTheme(v),l=d);const w=a.getColorMap();return{theme:v,colorMap:w}}function h(){return a.getLoadedThemes()}function m(){return a.getLoadedLanguages()}async function g(...d){await a.loadLanguages(await n(d))}async function b(...d){await Promise.all(d.map(async v=>gm(v)?null:a.loadTheme(await e(v))))}return{setTheme:f,getTheme:u,getLanguage:c,getLoadedThemes:h,getLoadedLanguages:m,loadLanguage:g,loadTheme:b}}async function db(t={}){const e=await fb(t);return{codeToTokensBase:(n,r)=>Eo(e,n,r),codeToTokensWithThemes:(n,r)=>xc(e,n,r),codeToTokens:(n,r)=>br(e,n,r),codeToHast:(n,r)=>_r(e,n,r),codeToHtml:(n,r)=>qy(e,n,r),...e,getInternalContext:()=>e}}var hb=Object.freeze({colors:{"activityBar.background":"#003847","badge.background":"#047aa6","button.background":"#2AA19899","debugExceptionWidget.background":"#00212B","debugExceptionWidget.border":"#AB395B","debugToolBar.background":"#00212B","dropdown.background":"#00212B","dropdown.border":"#2AA19899","editor.background":"#002B36","editor.foreground":"#839496","editor.lineHighlightBackground":"#073642","editor.selectionBackground":"#274642","editor.selectionHighlightBackground":"#005A6FAA","editor.wordHighlightBackground":"#004454AA","editor.wordHighlightStrongBackground":"#005A6FAA","editorBracketHighlight.foreground1":"#cdcdcdff","editorBracketHighlight.foreground2":"#b58900ff","editorBracketHighlight.foreground3":"#d33682ff","editorCursor.foreground":"#D30102","editorGroup.border":"#00212B","editorGroup.dropBackground":"#2AA19844","editorGroupHeader.tabsBackground":"#004052","editorHoverWidget.background":"#004052","editorIndentGuide.activeBackground":"#C3E1E180","editorIndentGuide.background":"#93A1A180","editorLineNumber.activeForeground":"#949494","editorMarkerNavigationError.background":"#AB395B","editorMarkerNavigationWarning.background":"#5B7E7A","editorWhitespace.foreground":"#93A1A180","editorWidget.background":"#00212B",errorForeground:"#ffeaea",focusBorder:"#2AA19899","input.background":"#003847","input.foreground":"#93A1A1","input.placeholderForeground":"#93A1A1AA","inputOption.activeBorder":"#2AA19899","inputValidation.errorBackground":"#571b26","inputValidation.errorBorder":"#a92049","inputValidation.infoBackground":"#052730","inputValidation.infoBorder":"#363b5f","inputValidation.warningBackground":"#5d5938","inputValidation.warningBorder":"#9d8a5e","list.activeSelectionBackground":"#005A6F","list.dropBackground":"#00445488","list.highlightForeground":"#1ebcc5","list.hoverBackground":"#004454AA","list.inactiveSelectionBackground":"#00445488","minimap.selectionHighlight":"#274642","panel.border":"#2b2b4a","peekView.border":"#2b2b4a","peekViewEditor.background":"#10192c","peekViewEditor.matchHighlightBackground":"#7744AA40","peekViewResult.background":"#00212B","peekViewTitle.background":"#00212B","pickerGroup.border":"#2AA19899","pickerGroup.foreground":"#2AA19899","ports.iconRunningProcessForeground":"#369432","progressBar.background":"#047aa6","quickInputList.focusBackground":"#005A6F","selection.background":"#2AA19899","sideBar.background":"#00212B","sideBarTitle.foreground":"#93A1A1","statusBar.background":"#00212B","statusBar.debuggingBackground":"#00212B","statusBar.foreground":"#93A1A1","statusBar.noFolderBackground":"#00212B","statusBarItem.prominentBackground":"#003847","statusBarItem.prominentHoverBackground":"#003847","statusBarItem.remoteBackground":"#2AA19899","tab.activeBackground":"#002B37","tab.activeForeground":"#d6dbdb","tab.border":"#003847","tab.inactiveBackground":"#004052","tab.inactiveForeground":"#93A1A1","tab.lastPinnedBorder":"#2AA19844","terminal.ansiBlack":"#073642","terminal.ansiBlue":"#268bd2","terminal.ansiBrightBlack":"#002b36","terminal.ansiBrightBlue":"#839496","terminal.ansiBrightCyan":"#93a1a1","terminal.ansiBrightGreen":"#586e75","terminal.ansiBrightMagenta":"#6c71c4","terminal.ansiBrightRed":"#cb4b16","terminal.ansiBrightWhite":"#fdf6e3","terminal.ansiBrightYellow":"#657b83","terminal.ansiCyan":"#2aa198","terminal.ansiGreen":"#859900","terminal.ansiMagenta":"#d33682","terminal.ansiRed":"#dc322f","terminal.ansiWhite":"#eee8d5","terminal.ansiYellow":"#b58900","titleBar.activeBackground":"#002C39"},displayName:"Solarized Dark",name:"solarized-dark",semanticHighlighting:!0,tokenColors:[{settings:{foreground:"#839496"}},{scope:["meta.embedded","source.groovy.embedded","string meta.image.inline.markdown","variable.legacy.builtin.python"],settings:{foreground:"#839496"}},{scope:"comment",settings:{fontStyle:"italic",foreground:"#586E75"}},{scope:"string",settings:{foreground:"#2AA198"}},{scope:"string.regexp",settings:{foreground:"#DC322F"}},{scope:"constant.numeric",settings:{foreground:"#D33682"}},{scope:["variable.language","variable.other"],settings:{foreground:"#268BD2"}},{scope:"keyword",settings:{foreground:"#859900"}},{scope:"storage",settings:{fontStyle:"bold",foreground:"#93A1A1"}},{scope:["entity.name.class","entity.name.type","entity.name.namespace","entity.name.scope-resolution"],settings:{fontStyle:"",foreground:"#CB4B16"}},{scope:"entity.name.function",settings:{foreground:"#268BD2"}},{scope:"punctuation.definition.variable",settings:{foreground:"#859900"}},{scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#DC322F"}},{scope:["constant.language","meta.preprocessor"],settings:{foreground:"#B58900"}},{scope:["support.function.construct","keyword.other.new"],settings:{foreground:"#CB4B16"}},{scope:["constant.character","constant.other"],settings:{foreground:"#CB4B16"}},{scope:"entity.other.inherited-class",settings:{foreground:"#6C71C4"}},{scope:"variable.parameter",settings:{}},{scope:"entity.name.tag",settings:{foreground:"#268BD2"}},{scope:"punctuation.definition.tag",settings:{foreground:"#586E75"}},{scope:"entity.other.attribute-name",settings:{foreground:"#93A1A1"}},{scope:"support.function",settings:{foreground:"#268BD2"}},{scope:"punctuation.separator.continuation",settings:{foreground:"#DC322F"}},{scope:["support.constant","support.variable"],settings:{}},{scope:["support.type","support.class"],settings:{foreground:"#859900"}},{scope:"support.type.exception",settings:{foreground:"#CB4B16"}},{scope:"support.other.variable",settings:{}},{scope:"invalid",settings:{foreground:"#DC322F"}},{scope:["meta.diff","meta.diff.header"],settings:{fontStyle:"italic",foreground:"#268BD2"}},{scope:"markup.deleted",settings:{fontStyle:"",foreground:"#DC322F"}},{scope:"markup.changed",settings:{fontStyle:"",foreground:"#CB4B16"}},{scope:"markup.inserted",settings:{foreground:"#859900"}},{scope:"markup.quote",settings:{foreground:"#859900"}},{scope:"markup.list",settings:{foreground:"#B58900"}},{scope:["markup.bold","markup.italic"],settings:{foreground:"#D33682"}},{scope:"markup.bold",settings:{fontStyle:"bold"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.strikethrough",settings:{fontStyle:"strikethrough"}},{scope:"markup.inline.raw",settings:{fontStyle:"",foreground:"#2AA198"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#268BD2"}},{scope:"markup.heading.setext",settings:{fontStyle:"",foreground:"#268BD2"}}],type:"dark"}),pb=Object.freeze({colors:{"activityBar.background":"#DDD6C1","activityBar.foreground":"#584c27","activityBarBadge.background":"#B58900","badge.background":"#B58900AA","button.background":"#AC9D57","debugExceptionWidget.background":"#DDD6C1","debugExceptionWidget.border":"#AB395B","debugToolBar.background":"#DDD6C1","dropdown.background":"#EEE8D5","dropdown.border":"#D3AF86","editor.background":"#FDF6E3","editor.foreground":"#657B83","editor.lineHighlightBackground":"#EEE8D5","editor.selectionBackground":"#EEE8D5","editorCursor.foreground":"#657B83","editorGroup.border":"#DDD6C1","editorGroup.dropBackground":"#DDD6C1AA","editorGroupHeader.tabsBackground":"#D9D2C2","editorHoverWidget.background":"#CCC4B0","editorIndentGuide.activeBackground":"#081E2580","editorIndentGuide.background":"#586E7580","editorLineNumber.activeForeground":"#567983","editorWhitespace.foreground":"#586E7580","editorWidget.background":"#EEE8D5","extensionButton.prominentBackground":"#b58900","extensionButton.prominentHoverBackground":"#584c27aa",focusBorder:"#b49471","input.background":"#DDD6C1","input.foreground":"#586E75","input.placeholderForeground":"#586E75AA","inputOption.activeBorder":"#D3AF86","list.activeSelectionBackground":"#DFCA88","list.activeSelectionForeground":"#6C6C6C","list.highlightForeground":"#B58900","list.hoverBackground":"#DFCA8844","list.inactiveSelectionBackground":"#D1CBB8","minimap.selectionHighlight":"#EEE8D5","notebook.cellEditorBackground":"#F7F0E0","panel.border":"#DDD6C1","peekView.border":"#B58900","peekViewEditor.background":"#FFFBF2","peekViewEditor.matchHighlightBackground":"#7744AA40","peekViewResult.background":"#EEE8D5","peekViewTitle.background":"#EEE8D5","pickerGroup.border":"#2AA19899","pickerGroup.foreground":"#2AA19899","ports.iconRunningProcessForeground":"#2AA19899","progressBar.background":"#B58900","quickInputList.focusBackground":"#DFCA8866","selection.background":"#878b9180","sideBar.background":"#EEE8D5","sideBarTitle.foreground":"#586E75","statusBar.background":"#EEE8D5","statusBar.debuggingBackground":"#EEE8D5","statusBar.foreground":"#586E75","statusBar.noFolderBackground":"#EEE8D5","statusBarItem.prominentBackground":"#DDD6C1","statusBarItem.prominentHoverBackground":"#DDD6C199","statusBarItem.remoteBackground":"#AC9D57","tab.activeBackground":"#FDF6E3","tab.activeModifiedBorder":"#cb4b16","tab.border":"#DDD6C1","tab.inactiveBackground":"#D3CBB7","tab.inactiveForeground":"#586E75","tab.lastPinnedBorder":"#FDF6E3","terminal.ansiBlack":"#073642","terminal.ansiBlue":"#268bd2","terminal.ansiBrightBlack":"#002b36","terminal.ansiBrightBlue":"#839496","terminal.ansiBrightCyan":"#93a1a1","terminal.ansiBrightGreen":"#586e75","terminal.ansiBrightMagenta":"#6c71c4","terminal.ansiBrightRed":"#cb4b16","terminal.ansiBrightWhite":"#fdf6e3","terminal.ansiBrightYellow":"#657b83","terminal.ansiCyan":"#2aa198","terminal.ansiGreen":"#859900","terminal.ansiMagenta":"#d33682","terminal.ansiRed":"#dc322f","terminal.ansiWhite":"#eee8d5","terminal.ansiYellow":"#b58900","terminal.background":"#FDF6E3","titleBar.activeBackground":"#EEE8D5","walkThrough.embeddedEditorBackground":"#00000014"},displayName:"Solarized Light",name:"solarized-light",semanticHighlighting:!0,tokenColors:[{settings:{foreground:"#657B83"}},{scope:["meta.embedded","source.groovy.embedded","string meta.image.inline.markdown","variable.legacy.builtin.python"],settings:{foreground:"#657B83"}},{scope:"comment",settings:{fontStyle:"italic",foreground:"#93A1A1"}},{scope:"string",settings:{foreground:"#2AA198"}},{scope:"string.regexp",settings:{foreground:"#DC322F"}},{scope:"constant.numeric",settings:{foreground:"#D33682"}},{scope:["variable.language","variable.other"],settings:{foreground:"#268BD2"}},{scope:"keyword",settings:{foreground:"#859900"}},{scope:"storage",settings:{fontStyle:"bold",foreground:"#586E75"}},{scope:["entity.name.class","entity.name.type","entity.name.namespace","entity.name.scope-resolution"],settings:{fontStyle:"",foreground:"#CB4B16"}},{scope:"entity.name.function",settings:{foreground:"#268BD2"}},{scope:"punctuation.definition.variable",settings:{foreground:"#859900"}},{scope:["punctuation.section.embedded.begin","punctuation.section.embedded.end"],settings:{foreground:"#DC322F"}},{scope:["constant.language","meta.preprocessor"],settings:{foreground:"#B58900"}},{scope:["support.function.construct","keyword.other.new"],settings:{foreground:"#CB4B16"}},{scope:["constant.character","constant.other"],settings:{foreground:"#CB4B16"}},{scope:"entity.other.inherited-class",settings:{foreground:"#6C71C4"}},{scope:"variable.parameter",settings:{}},{scope:"entity.name.tag",settings:{foreground:"#268BD2"}},{scope:"punctuation.definition.tag",settings:{foreground:"#93A1A1"}},{scope:"entity.other.attribute-name",settings:{foreground:"#93A1A1"}},{scope:"support.function",settings:{foreground:"#268BD2"}},{scope:"punctuation.separator.continuation",settings:{foreground:"#DC322F"}},{scope:["support.constant","support.variable"],settings:{}},{scope:["support.type","support.class"],settings:{foreground:"#859900"}},{scope:"support.type.exception",settings:{foreground:"#CB4B16"}},{scope:"support.other.variable",settings:{}},{scope:"invalid",settings:{foreground:"#DC322F"}},{scope:["meta.diff","meta.diff.header"],settings:{fontStyle:"italic",foreground:"#268BD2"}},{scope:"markup.deleted",settings:{fontStyle:"",foreground:"#DC322F"}},{scope:"markup.changed",settings:{fontStyle:"",foreground:"#CB4B16"}},{scope:"markup.inserted",settings:{foreground:"#859900"}},{scope:"markup.quote",settings:{foreground:"#859900"}},{scope:"markup.list",settings:{foreground:"#B58900"}},{scope:["markup.bold","markup.italic"],settings:{foreground:"#D33682"}},{scope:"markup.bold",settings:{fontStyle:"bold"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.strikethrough",settings:{fontStyle:"strikethrough"}},{scope:"markup.inline.raw",settings:{fontStyle:"",foreground:"#2AA198"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#268BD2"}},{scope:"markup.heading.setext",settings:{fontStyle:"",foreground:"#268BD2"}}],type:"light"});async function gb(t,e="blade"){return(await db({themes:[hb,pb],langs:[Is(()=>import("./blade-Dwe667Iu.js"),[],import.meta.url)],loadWasm:Is(()=>import("./wasm-CsTmP73Z.js"),[],import.meta.url)})).codeToHtml(t,{lang:e,themes:{light:"solarized-light",dark:"solarized-dark"}})}const mb=()=>({get activeTool(){return this._activeTool},tools:[],init(){this._activeTool=null},onPatternLoaded(){if(this.tools=[],this.tools.length)return this.loadTool(this.tools[0].id);U.get("/patterntools").then(t=>{this.tools=t.data,this.loadTool(this.tools[0].id)})},onPatternUnLoaded(){this._tools={},this._activeTool=null},loadTool(t){const e=this.getTool(t);e||console.error(`Tool id ${t} is incorrect.`),this._activeTool=e,!(e.content||e.loading)&&(e.loadingTimer=setTimeout(()=>{e.loading=!0},1e3),U.get(this.getToolUrl(e,this.loadedPattern)).then(n=>{e.content=n.data,this.$nextTick(()=>{this.refreshScripts(e),this.highlightCode(e)})}).catch(n=>{e.error=n}).finally(()=>{clearTimeout(e.loadingTimer),e.loading=!1}))},getTool(t){return this.tools.find(e=>e.id===t)??null},getToolUrl(t,e){return e?`/patterntools/tool/${encodeURIComponent(t.className)}/${e.patternId??e.id}${e.contextId?`/${e.contextId}`:""}`:""},refreshScripts(){[...this.$refs.tabs.querySelectorAll("script:not([data-braid-parsed])")].forEach(t=>{const e=document.createElement("script");[...t.attributes].forEach(n=>{e.setAttribute(n.name,n.value)}),e.setAttribute("data-braid-parsed",""),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)})},highlightCode(){[...this.$refs.tabs.querySelectorAll("[data-highlight]")].forEach(t=>{gb(t.innerText).then(e=>{t.innerHTML=e})})},isActiveTool(t){return this._activeTool&&this._activeTool.id===t}}),yb=()=>({fire(t,e,n=null){ze.fire(`toolbar:${t}`,n,{...e,currentTarget:e.currentTarget})}}),bb=t=>({open:!0,init(){const e=this.getStoredMenu();this.open=!e.closed.includes(t),ze.bind("braid.menu-reset",()=>{this.setOpen()})},toggle(e){this.setOpen(!this.open),e.altKey&&this.$refs.root.querySelectorAll('[x-data^="menuFolder"]').forEach(n=>{ge.$data(n).setOpen(this.open)})},setOpen(e=!0){this.open=e;const n=this.getStoredMenu();e?n.closed=n.closed.filter(r=>r!==t):n.closed.push(t),Le.set(De.storageKeys.menu,n)},getStoredMenu(){return Le.get(De.storageKeys.menu,{closed:[]})}}),vb=t=>({store:ge.store("braid"),consts:{GLOBAL:"__global"},init(){this.onMarkDragStart=this.onMarkDragStart.bind(this),this.onMarkDragMove=this.onMarkDragMove.bind(this),this.onMarkDragEnd=this.onMarkDragEnd.bind(this),this.store.ruler.open=Le.get(De.storageKeys.ruler.open,!1),this.store.ruler.offset=t,this.store.ruler.dragMarker=null,this.store.ruler.marks=this.getFromStorage(),this.$refs.ruler.style.marginLeft=`${t}px`,ze.bind("toolbar:button:toggle-ruler",this.toggleRuler.bind(this)),Ir.bind(window,"mouseup",this.onMarkDragEnd).bind(window,"touchend",this.onMarkDragEnd).bind(window,"touchcancel",this.onMarkDragEnd).bind(window,"mousemove",this.onMarkDragMove).bind(window,"touchmove",this.onMarkDragMove)},onRulerClick(e){const n=this.getRulerOffset(e.clientX);this.addMark(n,e.altKey?this.store.loadedPattern:this.consts.GLOBAL)},onMarkClick(e,n){if(e.altKey){n.store===this.consts.GLOBAL?this.moveMarkStore(n,this.store.loadedPattern):this.moveMarkStore(n,this.consts.GLOBAL);return}},onMarkDragStart(e,n){n.prevX=n.x,this.store.ruler.dragMarker=n,ze.fire("ruler:drag-mark-start")},onMarkDragMove(e){this.store.ruler.dragMarker&&this.moveMark(this.store.ruler.dragMarker,this.getRulerOffset(e.clientX))},onMarkDragEnd(e){this.store.ruler.dragMarker&&(!(this.store.ruler.dragMarker.x-this.store.ruler.dragMarker.prevX)&&!e.altKey&&this.removeMark(this.store.ruler.dragMarker),delete this.store.ruler.dragMarker.prevX,this.store.ruler.dragMarker=null,ze.fire("ruler:drag-mark-end"),this.updateStorage())},toggleRuler(){this.store.ruler.open=!this.store.ruler.open,Le.set(De.storageKeys.ruler.open,this.store.ruler.open)},getRulerOffset(e,n=5){const r=this.$refs.ruler.getBoundingClientRect();return e=e-r.x,e<0&&(e=0),n>0&&(e=Math.round(e/n)*n),e},getMarks(){return[...this.store.ruler.marks[this.consts.GLOBAL],...this.store.ruler.marks[this.store.loadedPattern]??[]]},addMark(e,n=null){n===null&&(n=this.consts.GLOBAL),this.store.ruler.marks[n]||(this.store.ruler.marks[n]=[]),!this.findMark(n,e)&&(this.store.ruler.marks[n].push({uuid:this.makeMarkerId(),x:e,store:n}),this.updateStorage())},moveMark(e,n){e.x=n},moveMarkStore(e,n){this.removeMark(e),this.addMark(e.x,n)},removeMark(e){this.store.ruler.marks[e.store]=this.store.ruler.marks[e.store].filter(n=>n.x!==e.x),this.updateStorage()},updateStorage(){const e={};Object.keys(this.store.ruler.marks).forEach(n=>{e[n]=this.store.ruler.marks[n].map(r=>r.x)}),Le.set(De.storageKeys.ruler.marks,e,!0)},getFromStorage(){const e=Le.get(De.storageKeys.ruler.marks,{[this.consts.GLOBAL]:[]}),n={};return Object.keys(e).forEach(r=>{n[r]=e[r].map(i=>({uuid:this.makeMarkerId(),x:i,store:r}))}),n},findMark(e,n){return this.store.ruler.marks[e].some(r=>r.x===n)},findMarkIndex(e){return this.store.ruler.marks[e.store].findIndex(n=>n.x===n.x)},getMarkLeftStyle(e){return`left: ${e.x+this.store.ruler.offset}px`},makeMarkerId(){return crypto?crypto.randomUUID():performance.now()}});let _b=1;const wb=(t={})=>({options:{action:"/"},fields:{},id:`inline-form-${_b++}`,init(){this.options={action:this.$root.getAttribute("action"),...t},this.$root.id&&(this.id=this.$root.id)},onFieldChange(e){U.post(this.options.action,this.fields).then(()=>{ze.fire(`inlineform:${this.id}:fieldchange`,{field:(e.target&&e.target.getAttribute("x-model"))??null,data:this.fields})})}}),Sb=()=>({store:Alpine.store("braid"),get hasTerms(){return this.store.search.filters.terms?Object.keys(this.store.search.filters.terms).findIndex(t=>!!this.store.search.filters.terms[t])!==-1:!1},get searchOpen(){return this.store.search.term||this.hasTerms},init(){this.$watch("store.search.filters.open",this.onFilterOpenStateChange.bind(this)),this.$watch("store.search.filters.terms",this.onTermsUpdate.bind(this))},onFilterOpenStateChange(t){ze.fire("search:filters-state-change",t)},onTermsUpdate(){this.store.search.filters.open=!1,this.onSearchSubmit()},onSearchSubmit(t=null){if(t&&t.preventDefault(),this.store.search.term||this.hasTerms){this.store.search.open=!0;return}this.store.search.open=!1},onSearchClose(t){t.preventDefault(),this.store.search.term="",this.store.search.filters.terms={},this.store.search.open=!1},toggleFilterTerm(t,e){this.store.search.filters.terms[t]===e&&(this.store.search.filters.terms[t]=null)},toggleFilters(){this.store.search.filters.open=!this.store.search.filters.open},closeFilters(){this.store.search.filters.open=!1}});window.Alpine=ge;U.defaults.baseURL=`/${BRAID.config.path}`;U.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";ge.store("braid",ag);class Cb{constructor(){ge.data("patternLibrary",Og),ge.data("patternTools",mb),ge.data("menuFolder",bb),ge.data("ruler",vb),ge.data("toolbar",yb),ge.data("inlineForm",wb),ge.data("search",Sb),this.parse().then(()=>{ge.start()})}parse(){const e=[];return this.tippy=ig(document.body,{target:"[data-tooltip]",delay:[400,300],maxWidth:200,ignoreAttributes:!0,allowHTML:!0,theme:"braid",content(n){return n.dataset.tooltip},onShow(n){return n.reference.dataset.tooltip!==""}}),Promise.all([...e])}}new Cb;
